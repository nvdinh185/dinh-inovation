(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{"6l07":function(l,n,i){"use strict";i.r(n);var e=i("8Y7J");class t{}var u=i("Uqf7"),o=i("pMnS"),a=i("oBZk"),s=i("ZZ/e"),r=i("SVse"),c=i("OL44"),d=i("ddi3"),b=i("cUpR"),p=i("s7LF"),m=i("6bhV"),h=i("mrSG"),f=i("c/rV"),g=i("9B/o");class I{constructor(l,n,i,e,t){this.route=l,this.apiCommons=n,this.apiAuth=i,this.mainService=e,this.iab=t,this.uploadingFiles=[],this.callbackProcess=(function(l){return new Promise((n,i)=>{l.error?this.apiCommons.presentAlert("Error:<br>"+(l.message?l.message:"Error Unknow: "+JSON.stringify(l.error,null,2))):l.response_data&&("MARK"===l.button.command&&this.refresh(l.button.id),"EDIT"===l.button.command&&this.refresh(l.button.id)),n({next:"CLOSE"})})}).bind(this)}ngOnInit(){this.init(),this.route.queryParams.subscribe(l=>{this.refresh(l.id)})}init(){this.userInfo=this.mainService.getUserInfo()}refresh(l){this.apiAuth.getDynamicUrl(this.apiAuth.serviceUrls.RESOURCE_SERVER+"/get-idea?id="+l,!0).then(l=>{this.ideaInfo=l,this.refreshUserAction()}).catch(l=>console.log("L\u1ed7i l\u1ea5y chi ti\u1ebft",l))}refreshUserAction(){this.ideaInfo&&this.ideaInfo.likes&&this.ideaInfo.comments&&(this.ideaInfo.idea&&this.ideaInfo.idea.attach_id_list&&this.apiAuth.getDynamicUrl(this.apiAuth.serviceUrls.RESOURCE_SERVER+"/get-attach-files?id_list="+JSON.stringify(this.ideaInfo.idea.attach_id_list),!0).then(l=>{l&&Array.isArray(l.images)&&(this.ideaInfo.idea.images=l.images,this.ideaInfo.idea.images.forEach(l=>l.src=this.apiAuth.serviceUrls.RESOURCE_SERVER+"/get-file-id?id="+l.id)),l&&Array.isArray(l.files)&&(this.ideaInfo.idea.attachs=l.files)}).catch(l=>{console.log("L\u1ed7i l\u1ea5y file: ",l)}),this.ideaInfo.isUserVoted=this.ideaInfo.likes.findIndex(l=>l.user_id===this.userInfo.id&&l.activities_type>0)>=0,this.ideaInfo.isUserCommented=this.ideaInfo.comments.findIndex(l=>l.user_id===this.userInfo.id)>=0,this.ideaInfo.comments.forEach(l=>{l.attach_id_list&&this.apiAuth.getDynamicUrl(this.apiAuth.serviceUrls.RESOURCE_SERVER+"/get-attach-files?id_list="+JSON.stringify(l.attach_id_list),!0).then(n=>{n&&Array.isArray(n.images)&&(l.images=n.images,l.images.forEach(l=>l.src=this.apiAuth.serviceUrls.RESOURCE_SERVER+"/get-file-id?id="+l.id)),n&&Array.isArray(n.files)&&(l.attachs=n.files)}).catch(l=>{console.log("L\u1ed7i l\u1ea5y file: ",l)})}))}onClickSend(){if(this.message||this.uploadingFiles.length>0){this.apiCommons.showLoader("\u0110ang x\u1eed l\xfd d\u1eef li\u1ec7u tr\xean m\xe1y ch\u1ee7....");let l=new FormData;l.append("id",this.ideaInfo.idea.id),l.append("content",this.message?this.message:this.uploadingFiles.length+" files");let n=0;for(let i of this.uploadingFiles)l.append("file_"+n++,i,i.filename);this.apiAuth.postDynamicFormData(this.apiAuth.serviceUrls.RESOURCE_SERVER+"/comment-idea",l,!0).then(l=>{this.apiCommons.hideLoader(),this.ideaInfo=l,this.refreshUserAction()}).catch(l=>{this.apiCommons.hideLoader()}),this.message="",this.uploadingFiles=[]}}onClickMore(l){let n=[];const i=[{id:1,name:"\u0110\xe1nh gi\xe1 \xfd t\u01b0\u1edfng n\xe0y",value:"MARK",icon:{name:"microphone",color:"warning"}},{id:2,name:"S\u1eeda \xfd t\u01b0\u1edfng n\xe0y",value:"EDIT",icon:{name:"create",color:"primary"}},{id:3,name:"Chuy\u1ec3n tr\u1ea1ng th\xe1i",value:"CHANGE",icon:{name:"hourglass",color:"primary"}},{id:4,name:"Gh\xe9p v\u1edbi ...",value:"MERGE",icon:{name:"git-merge",color:"primary"}},{id:5,name:"Ch\u01b0a ph\xf9 h\u1ee3p",value:"TRASH",icon:{name:"trash",color:"danger"}}];this.userInfo&&this.ideaInfo&&this.ideaInfo.idea&&(n=i.filter(this.ideaInfo.idea.user_id===this.userInfo.id?l=>2===l.id||3===l.id:l=>1===l.id),98===this.userInfo.role?n=n.concat(i.filter(l=>1!==l.id&&2!==l.id&&3!==l.id)):99===this.userInfo.role&&(n=i)),this.apiCommons.presentPopover(l,d.p,{type:"single-choice",title:"Th\u1ef1c thi",color:"primary",menu:n}).then(l=>{this.processDetails(l)}).catch(l=>{console.log("err: ",l)})}processDetails(l){let n=l.value;this.ideaInfo&&this.ideaInfo.idea&&("MARK"===n&&this.markIdea(this.ideaInfo.idea),"EDIT"===n&&this.editIdea(this.ideaInfo.idea),"CHANGE"===n&&this.changeStatusIdea(this.ideaInfo.idea),"MERGE"===n&&this.mergeIdea(this.ideaInfo.idea),"TRASH"===n&&this.trashIdea(this.ideaInfo.idea))}likeIdea(l){this.apiAuth.postDynamicJson(this.apiAuth.serviceUrls.RESOURCE_SERVER+"/like-idea",{id:l.id},!0).then(l=>{this.ideaInfo=l,this.refreshUserAction()}).catch(l=>console.log(l))}uploadFilesEvent(l){if(l.target&&l.target.files&&l.target.files.length)for(let n of l.target.files){if(n.type.indexOf("image")>=0){n.isImage=!0;const l=new FileReader;l.onloadend=i=>{n.image=l.result},l.readAsDataURL(n)}this.uploadingFiles.find(l=>l.name===n.name)||this.uploadingFiles.push(n)}}onClickRemoveFile(l){this.uploadingFiles.splice(l,1)}onClickViewFile(l){this.iab.create(this.apiAuth.serviceUrls.RESOURCE_SERVER+"/get-file-id?id="+l,"_system")}onClickViewImage(l){this.iab.create(this.apiAuth.serviceUrls.RESOURCE_SERVER+"/get-file-id?id="+l,"_system")}markIdea(l){return h.b(this,void 0,void 0,(function*(){let n,i;try{n=yield this.apiAuth.getDynamicUrl(this.apiAuth.serviceUrls.RESOURCE_SERVER+"/get-questions",!0),i=yield this.apiAuth.getDynamicUrl(this.apiAuth.serviceUrls.RESOURCE_SERVER+"/user-mark-idea?id="+l.id,!0)}catch(u){}let e=[];for(let l of n){let n=i.find(n=>n.question_id===l.id);e.push({type:"range-text",key:"question_"+l.id,name:l.question,icon:"help",disabled:!0,value:n?n.point:0,min:l.min_point,max:l.max_point})}let t={title:"Ch\u1ea5m \u0111i\u1ec3m \xfd t\u01b0\u1edfng",buttons:[{color:"danger",icon:"close",next:"CLOSE"}],items:[{type:"title",name:l.title,key:"id",value:l.id},...e,{type:"button",options:[{name:"G\u1eedi \u0111\xe1nh gi\xe1",next:"CALLBACK",id:l.id,url:this.apiAuth.serviceUrls.RESOURCE_SERVER+"/mark-idea",token:!0,command:"MARK"}]}]};this.apiCommons.openModal(d.h,{parent:this,callback:this.callbackProcess,form:t})}))}editIdea(l){return h.b(this,void 0,void 0,(function*(){let n;try{n=yield this.apiAuth.getDynamicUrl(this.apiAuth.serviceUrls.RESOURCE_SERVER+"/get-idea-parameters",!0)}catch(i){}this.apiCommons.openModal(d.h,{parent:this,callback:this.callbackProcess,form:{title:"S\u1eeda \xfd t\u01b0\u1edfng",buttons:[{color:"danger",icon:"close",next:"CLOSE"}],items:[{type:"hidden",key:"id",value:l.id},{type:"text",key:"title",value:l.title,name:"Ch\u1ee7 \u0111\u1ec1 l\xe0 g\xec? ",hint:"Nh\u1eadp ch\u1ee7 \u0111\u1ec1 c\u1ee7a \xfd t\u01b0\u1edfng n\xe0y t\u1eeb 5-200 k\xfd t\u1ef1",input_type:"text",icon:"md-help",validators:[{required:!0,min:5,max:200}]},{type:"text_area",key:"description",value:l.description,name:"M\xf4 t\u1ea3 n\u1ed9i dung \xfd t\u01b0\u1edfng c\u1ee7a b\u1ea1n t\u1eeb 50 \u0111\u1ebfn 1000 t\u1eeb",hint:"Nh\u1eadp m\xf4 t\u1ea3 \xfd t\u01b0\u1edfng c\u1ee7a b\u1ea1n",input_type:"text",icon:"md-information-circle",validators:[{required:!0,min:10}]},{type:"select",key:"category_id",value:""+l.category_id,name:"Ph\xe2n lo\u1ea1i \xfd t\u01b0\u1edfng?",icon:"contrast",options:n&&n.ideas_categories?n.ideas_categories:[],color:"warning"},{type:"select",key:"status",value:""+l.status,name:"Tr\u1ea1ng th\xe1i c\u1ee7a \xfd t\u01b0\u1edfng?",icon:"clock",options:n&&n.ideas_statuses?n.ideas_statuses:[],color:"secondary"},{type:"button",options:[{name:"G\u1eedi s\u1eeda \xfd t\u01b0\u1edfng",id:l.id,next:"CALLBACK",url:this.apiAuth.serviceUrls.RESOURCE_SERVER+"/edit-idea",type:"FORM-DATA",token:!0,command:"EDIT"}]}]}})}))}changeStatusIdea(l){return h.b(this,void 0,void 0,(function*(){let n;try{n=yield this.apiAuth.getDynamicUrl(this.apiAuth.serviceUrls.RESOURCE_SERVER+"/get-idea-parameters",!0)}catch(i){}this.apiCommons.openModal(d.h,{parent:this,callback:this.callbackProcess,form:{title:"Thay \u0111\u1ed5i tr\u1ea1ng th\xe1i",buttons:[{color:"danger",icon:"close",next:"CLOSE"}],items:[{type:"hidden",key:"id",value:l.id},{type:"select",key:"status",value:""+l.status,name:"Tr\u1ea1ng th\xe1i c\u1ee7a \xfd t\u01b0\u1edfng?",icon:"clock",options:n&&n.ideas_statuses?n.ideas_statuses:[],color:"warning"},{type:"button",options:[{name:"Chuy\u1ec3n tr\u1ea1ng th\xe1i \xfd t\u01b0\u1edfng n\xe0y",id:l.id,next:"CALLBACK",url:this.apiAuth.serviceUrls.RESOURCE_SERVER+"/edit-idea",type:"FORM-DATA",token:!0,command:"EDIT"}]}]}})}))}mergeIdea(l){}trashIdea(l){this.apiCommons.openModal(d.h,{parent:this,callback:this.callbackProcess,form:{title:"D\u1eebng \xfd t\u01b0\u1edfng",buttons:[{color:"danger",icon:"close",next:"CLOSE"}],items:[{type:"hidden",key:"id",value:l.id},{type:"select",key:"status",value:"0",name:"Tr\u1ea1ng th\xe1i c\u1ee7a \xfd t\u01b0\u1edfng?",icon:"clock",options:[{value:"0",name:"Tri\u1ec3n khai sau"}],color:"secondary"},{type:"button",options:[{name:"D\u1eebng \xfd t\u01b0\u1edfng n\xe0y",id:l.id,next:"CALLBACK",url:this.apiAuth.serviceUrls.RESOURCE_SERVER+"/edit-idea",type:"FORM-DATA",token:!0,command:"EDIT"}]}]}})}}var A=i("iInd"),y=e.zb({encapsulation:0,styles:[[".file-over[_ngcontent-%COMP%]{position:absolute;top:0;left:0;z-index:2;width:100%;height:100%;opacity:0;cursor:pointer}.idea-created[_ngcontent-%COMP%]{border-radius:2em;opacity:.9;margin:5px;border:1px solid gray}.input-comment[_ngcontent-%COMP%]{border-radius:2em;opacity:.9;margin:15px;box-shadow:0 3px 10px rgba(0,0,0,.5);border:1px solid green}.comment-backgound[_ngcontent-%COMP%]{position:relative;border-radius:1em;opacity:.9;padding:8px;background:#f5f5f5}.comment-list[_ngcontent-%COMP%]{margin:15px}.image-comment-size[_ngcontent-%COMP%]{max-width:200px;margin:2px;border-radius:.5em;border:1px solid #000}.image-upload-size[_ngcontent-%COMP%]{position:relative;max-width:200px;margin:2px;padding:3px;border-radius:.5em;border:1px solid #000}.image-upload-size[_ngcontent-%COMP%]   .close-button[_ngcontent-%COMP%]{position:absolute;top:2%;left:80%;font-size:30px}"]],data:{}});function x(l){return e.Xb(0,[(l()(),e.Bb(0,0,null,null,2,"ion-label",[["class","ion-text-wrap"]],null,null,null,a.rb,a.y)),e.Ab(1,49152,null,0,s.N,[e.j,e.p,e.F],null,null),(l()(),e.Vb(2,0,[" "," Files \u0111\xednh k\xe8m "]))],null,(function(l,n){l(n,2,0,n.component.ideaInfo.idea.attach_id_list.length)}))}function F(l){return e.Xb(0,[(l()(),e.Bb(0,0,null,null,0,"img",[["class","image-comment-size"],["tappable",""]],[[8,"src",4]],[[null,"click"]],(function(l,n,i){var e=!0;return"click"===n&&(e=!1!==l.component.onClickViewImage(l.context.$implicit.id)&&e),e}),null,null))],null,(function(l,n){l(n,0,0,e.Fb(1,"",n.context.$implicit.src,""))}))}function k(l){return e.Xb(0,[(l()(),e.Bb(0,0,null,null,5,"span",[],null,null,null,null,null)),(l()(),e.Bb(1,0,null,null,4,"ion-button",[["color","primary"],["fill","outline"],["shape","round"],["style","text-transform:none!important;"]],null,[[null,"click"]],(function(l,n,i){var e=!0;return"click"===n&&(e=!1!==l.component.onClickViewFile(l.context.$implicit.id)&&e),e}),a.W,a.d)),e.Ab(2,49152,null,0,s.k,[e.j,e.p,e.F],{color:[0,"color"],fill:[1,"fill"],shape:[2,"shape"]},null),(l()(),e.Vb(3,0,[" "," "])),(l()(),e.Bb(4,0,null,0,1,"ion-icon",[["name","eye"],["slot","end"]],null,null,null,a.nb,a.u)),e.Ab(5,49152,null,0,s.C,[e.j,e.p,e.F],{name:[0,"name"]},null)],(function(l,n){l(n,2,0,"primary","outline","round"),l(n,5,0,"eye")}),(function(l,n){l(n,3,0,n.context.$implicit.file_name)}))}function v(l){return e.Xb(0,[(l()(),e.Bb(0,0,null,null,5,"ion-item",[["lines","none"]],[[4,"padding-left",null]],null,null,a.qb,a.x)),e.Ab(1,49152,null,0,s.H,[e.j,e.p,e.F],{lines:[0,"lines"]},null),(l()(),e.Bb(2,0,null,0,3,"ion-label",[["class","ion-text-wrap"]],null,null,null,a.rb,a.y)),e.Ab(3,49152,null,0,s.N,[e.j,e.p,e.F],null,null),(l()(),e.qb(16777216,null,0,1,null,k)),e.Ab(5,278528,null,0,r.k,[e.W,e.S,e.x],{ngForOf:[0,"ngForOf"]},null)],(function(l,n){var i=n.component;l(n,1,0,"none"),l(n,5,0,null==i.ideaInfo?null:null==i.ideaInfo.idea?null:i.ideaInfo.idea.attachs)}),(function(l,n){l(n,0,0,"20px")}))}function E(l){return e.Xb(0,[(l()(),e.Bb(0,0,null,null,4,"ion-button",[["color","secondary"],["fill","outline"],["shape","round"],["style","text-transform:none!important;"]],null,[[null,"click"]],(function(l,n,i){var e=!0;return"click"===n&&(e=!1!==l.component.onClickRemoveFile(l.parent.context.index)&&e),e}),a.W,a.d)),e.Ab(1,49152,null,0,s.k,[e.j,e.p,e.F],{color:[0,"color"],fill:[1,"fill"],shape:[2,"shape"]},null),(l()(),e.Vb(2,0,[" "," "])),(l()(),e.Bb(3,0,null,0,1,"ion-icon",[["name","close"],["slot","end"]],null,null,null,a.nb,a.u)),e.Ab(4,49152,null,0,s.C,[e.j,e.p,e.F],{name:[0,"name"]},null)],(function(l,n){l(n,1,0,"secondary","outline","round"),l(n,4,0,"close")}),(function(l,n){l(n,2,0,n.parent.context.$implicit.name)}))}function C(l){return e.Xb(0,[(l()(),e.Bb(0,0,null,null,4,"div",[["class","image-upload-size"]],null,null,null,null,null)),(l()(),e.Bb(1,0,null,null,0,"img",[],[[8,"src",4]],null,null,null,null)),(l()(),e.Bb(2,0,null,null,2,"div",[["class","close-button"],["tappable",""]],null,null,null,null,null)),(l()(),e.Bb(3,0,null,null,1,"ion-icon",[["color","medium"],["name","close"],["slot","icon-only"]],null,[[null,"click"]],(function(l,n,i){var e=!0;return"click"===n&&(e=!1!==l.component.onClickRemoveFile(l.parent.context.index)&&e),e}),a.nb,a.u)),e.Ab(4,49152,null,0,s.C,[e.j,e.p,e.F],{color:[0,"color"],name:[1,"name"]},null)],(function(l,n){l(n,4,0,"medium","close")}),(function(l,n){l(n,1,0,e.Fb(1,"",n.parent.context.$implicit.image,""))}))}function R(l){return e.Xb(0,[(l()(),e.Bb(0,0,null,null,4,"span",[],null,null,null,null,null)),(l()(),e.qb(16777216,null,null,1,null,E)),e.Ab(2,16384,null,0,r.l,[e.W,e.S],{ngIf:[0,"ngIf"]},null),(l()(),e.qb(16777216,null,null,1,null,C)),e.Ab(4,16384,null,0,r.l,[e.W,e.S],{ngIf:[0,"ngIf"]},null)],(function(l,n){l(n,2,0,!n.context.$implicit.isImage),l(n,4,0,n.context.$implicit.isImage)}),null)}function B(l){return e.Xb(0,[(l()(),e.Bb(0,0,null,null,5,"ion-item",[["lines","none"]],null,null,null,a.qb,a.x)),e.Ab(1,49152,null,0,s.H,[e.j,e.p,e.F],{lines:[0,"lines"]},null),(l()(),e.Bb(2,0,null,0,3,"ion-label",[["class","ion-text-wrap"]],null,null,null,a.rb,a.y)),e.Ab(3,49152,null,0,s.N,[e.j,e.p,e.F],null,null),(l()(),e.qb(16777216,null,0,1,null,R)),e.Ab(5,278528,null,0,r.k,[e.W,e.S,e.x],{ngForOf:[0,"ngForOf"]},null)],(function(l,n){var i=n.component;l(n,1,0,"none"),l(n,5,0,i.uploadingFiles)}),null)}function _(l){return e.Xb(0,[(l()(),e.Bb(0,0,null,null,0,"img",[["class","image-comment-size"],["tappable",""]],[[8,"src",4]],[[null,"click"]],(function(l,n,i){var e=!0;return"click"===n&&(e=!1!==l.component.onClickViewImage(l.context.$implicit.id)&&e),e}),null,null))],null,(function(l,n){l(n,0,0,e.Fb(1,"",n.context.$implicit.src,""))}))}function S(l){return e.Xb(0,[(l()(),e.Bb(0,0,null,null,5,"span",[],null,null,null,null,null)),(l()(),e.Bb(1,0,null,null,4,"ion-button",[["color","dark"],["fill","outline"],["shape","round"],["style","text-transform:none!important;"]],null,[[null,"click"]],(function(l,n,i){var e=!0;return"click"===n&&(e=!1!==l.component.onClickViewFile(l.context.$implicit.id)&&e),e}),a.W,a.d)),e.Ab(2,49152,null,0,s.k,[e.j,e.p,e.F],{color:[0,"color"],fill:[1,"fill"],shape:[2,"shape"]},null),(l()(),e.Vb(3,0,[" "," "])),(l()(),e.Bb(4,0,null,0,1,"ion-icon",[["name","eye"],["slot","end"]],null,null,null,a.nb,a.u)),e.Ab(5,49152,null,0,s.C,[e.j,e.p,e.F],{name:[0,"name"]},null)],(function(l,n){l(n,2,0,"dark","outline","round"),l(n,5,0,"eye")}),(function(l,n){l(n,3,0,n.context.$implicit.file_name)}))}function L(l){return e.Xb(0,[(l()(),e.Bb(0,0,null,null,5,"ion-item",[["lines","none"]],[[4,"padding-left",null]],null,null,a.qb,a.x)),e.Ab(1,49152,null,0,s.H,[e.j,e.p,e.F],{lines:[0,"lines"]},null),(l()(),e.Bb(2,0,null,0,3,"ion-label",[["class","ion-text-wrap"]],null,null,null,a.rb,a.y)),e.Ab(3,49152,null,0,s.N,[e.j,e.p,e.F],null,null),(l()(),e.qb(16777216,null,0,1,null,S)),e.Ab(5,278528,null,0,r.k,[e.W,e.S,e.x],{ngForOf:[0,"ngForOf"]},null)],(function(l,n){l(n,1,0,"none"),l(n,5,0,n.parent.context.$implicit.attachs)}),(function(l,n){l(n,0,0,n.parent.context.$implicit.parent_id?"80px":"60px")}))}function j(l){return e.Xb(0,[(l()(),e.Bb(0,0,null,null,25,"div",[],[[4,"padding-left",null]],null,null,null,null)),(l()(),e.Bb(1,0,null,null,14,"ion-item",[["lines","none"]],null,null,null,a.qb,a.x)),e.Ab(2,49152,null,0,s.H,[e.j,e.p,e.F],{lines:[0,"lines"]},null),(l()(),e.Bb(3,0,null,0,2,"ion-avatar",[["slot","start"]],null,null,null,a.U,a.b)),e.Ab(4,49152,null,0,s.f,[e.j,e.p,e.F],null,null),(l()(),e.Bb(5,0,null,0,0,"img",[],[[8,"src",4]],null,null,null,null)),(l()(),e.Bb(6,0,null,0,9,"ion-label",[["class","ion-text-wrap comment-backgound"]],null,null,null,a.rb,a.y)),e.Ab(7,49152,null,0,s.N,[e.j,e.p,e.F],null,null),(l()(),e.Bb(8,0,null,0,1,"strong",[["slot","start"]],null,null,null,null,null)),(l()(),e.Vb(9,null,[" "," "])),(l()(),e.Bb(10,0,null,0,0,"br",[],null,null,null,null,null)),(l()(),e.Bb(11,0,null,0,4,"ion-label",[["class","ion-text-wrap"]],null,null,null,a.rb,a.y)),e.Ab(12,49152,null,0,s.N,[e.j,e.p,e.F],null,null),(l()(),e.Bb(13,0,null,0,2,"div",[],[[8,"innerHTML",1]],null,null,null,null)),e.Rb(14,1),e.Rb(15,1),(l()(),e.Bb(16,0,null,null,3,"ion-note",[],[[4,"padding-left",null]],null,null,a.xb,a.E)),e.Ab(17,49152,null,0,s.Y,[e.j,e.p,e.F],null,null),(l()(),e.Vb(18,0,[" "," "])),e.Pb(131072,c.a,[e.j,e.F]),(l()(),e.Bb(20,0,null,null,0,"br",[],null,null,null,null,null)),(l()(),e.Bb(21,0,null,null,2,"div",[],[[4,"padding-left",null]],null,null,null,null)),(l()(),e.qb(16777216,null,null,1,null,_)),e.Ab(23,278528,null,0,r.k,[e.W,e.S,e.x],{ngForOf:[0,"ngForOf"]},null),(l()(),e.qb(16777216,null,null,1,null,L)),e.Ab(25,16384,null,0,r.l,[e.W,e.S],{ngIf:[0,"ngIf"]},null)],(function(l,n){l(n,2,0,"none"),l(n,23,0,n.context.$implicit.images),l(n,25,0,(null==n.context.$implicit.attachs?null:n.context.$implicit.attachs.length)>0)}),(function(l,n){l(n,0,0,n.context.$implicit.parent_id?"20px":"0px"),l(n,5,0,e.Fb(1,"",n.context.$implicit.avatar,"")),l(n,9,0,n.context.$implicit.username);var i=e.Wb(n,13,0,l(n,15,0,e.Nb(n.parent,0),e.Wb(n,13,0,l(n,14,0,e.Nb(n.parent,1),n.context.$implicit.content))));l(n,13,0,i),l(n,16,0,n.context.$implicit.parent_id?"100px":"80px"),l(n,18,0,e.Wb(n,18,0,e.Nb(n,19).transform(n.context.$implicit.created_time))),l(n,21,0,n.context.$implicit.parent_id?"80px":"60px")}))}function O(l){return e.Xb(0,[e.Pb(0,d.q,[b.b]),e.Pb(0,d.m,[]),(l()(),e.Bb(2,0,null,null,11,"ion-header",[],null,null,null,a.mb,a.t)),e.Ab(3,49152,null,0,s.B,[e.j,e.p,e.F],null,null),(l()(),e.Bb(4,0,null,0,9,"ion-toolbar",[["color","primary"]],null,null,null,a.Lb,a.S)),e.Ab(5,49152,null,0,s.Cb,[e.j,e.p,e.F],{color:[0,"color"]},null),(l()(),e.Bb(6,0,null,0,4,"ion-buttons",[["slot","start"]],null,null,null,a.X,a.e)),e.Ab(7,49152,null,0,s.l,[e.j,e.p,e.F],null,null),(l()(),e.Bb(8,0,null,0,2,"ion-back-button",[],null,[[null,"click"]],(function(l,n,i){var t=!0;return"click"===n&&(t=!1!==e.Nb(l,10).onClick(i)&&t),t}),a.V,a.c)),e.Ab(9,49152,null,0,s.g,[e.j,e.p,e.F],null,null),e.Ab(10,16384,null,0,s.h,[[2,s.ib],s.Jb],null,null),(l()(),e.Bb(11,0,null,0,2,"ion-title",[],null,null,null,a.Jb,a.Q)),e.Ab(12,49152,null,0,s.Ab,[e.j,e.p,e.F],null,null),(l()(),e.Vb(-1,0,["Ch\u1ee7 \u0111\u1ec1 \xfd t\u01b0\u1edfng"])),(l()(),e.Bb(14,0,null,null,99,"ion-content",[],null,null,null,a.gb,a.n)),e.Ab(15,49152,null,0,s.u,[e.j,e.p,e.F],null,null),(l()(),e.Bb(16,0,null,0,17,"ion-item",[["class","idea-created"],["lines","none"]],null,null,null,a.qb,a.x)),e.Ab(17,49152,null,0,s.H,[e.j,e.p,e.F],{lines:[0,"lines"]},null),(l()(),e.Bb(18,0,null,0,2,"ion-avatar",[["slot","start"]],null,null,null,a.U,a.b)),e.Ab(19,49152,null,0,s.f,[e.j,e.p,e.F],null,null),(l()(),e.Bb(20,0,null,0,0,"img",[],[[8,"src",4]],null,null,null,null)),(l()(),e.Bb(21,0,null,0,8,"ion-label",[],null,null,null,a.rb,a.y)),e.Ab(22,49152,null,0,s.N,[e.j,e.p,e.F],null,null),(l()(),e.Bb(23,0,null,0,1,"strong",[["slot","start"]],null,null,null,null,null)),(l()(),e.Vb(24,null,[" "," "])),(l()(),e.Bb(25,0,null,0,0,"br",[],null,null,null,null,null)),(l()(),e.Bb(26,0,null,0,3,"ion-note",[],null,null,null,a.xb,a.E)),e.Ab(27,49152,null,0,s.Y,[e.j,e.p,e.F],null,null),(l()(),e.Vb(28,0,["",""])),e.Pb(131072,c.a,[e.j,e.F]),(l()(),e.Bb(30,0,null,0,3,"ion-button",[["fill","clear"],["shape","round"],["size","small"],["slote","end"]],null,[[null,"click"]],(function(l,n,i){var e=!0;return"click"===n&&(e=!1!==l.component.onClickMore(i)&&e),e}),a.W,a.d)),e.Ab(31,49152,null,0,s.k,[e.j,e.p,e.F],{fill:[0,"fill"],shape:[1,"shape"],size:[2,"size"]},null),(l()(),e.Bb(32,0,null,0,1,"ion-icon",[["name","ios-more"],["slot","icon-only"]],null,null,null,a.nb,a.u)),e.Ab(33,49152,null,0,s.C,[e.j,e.p,e.F],{name:[0,"name"]},null),(l()(),e.Bb(34,0,null,0,31,"ion-list",[],null,null,null,a.tb,a.z)),e.Ab(35,49152,null,0,s.O,[e.j,e.p,e.F],null,null),(l()(),e.Bb(36,0,null,0,6,"ion-item",[],null,null,null,a.qb,a.x)),e.Ab(37,49152,null,0,s.H,[e.j,e.p,e.F],null,null),(l()(),e.Bb(38,0,null,0,1,"strong",[["slot","start"]],null,null,null,null,null)),(l()(),e.Vb(39,null,[" Ch\u1ee7 \u0111\u1ec1 #",": "])),(l()(),e.Bb(40,0,null,0,2,"ion-label",[["class","ion-text-wrap"]],null,null,null,a.rb,a.y)),e.Ab(41,49152,null,0,s.N,[e.j,e.p,e.F],null,null),(l()(),e.Vb(42,0,[" "," "])),(l()(),e.Bb(43,0,null,0,8,"ion-item",[],null,null,null,a.qb,a.x)),e.Ab(44,49152,null,0,s.H,[e.j,e.p,e.F],null,null),(l()(),e.Bb(45,0,null,0,1,"strong",[["slot","start"]],null,null,null,null,null)),(l()(),e.Vb(-1,null,[" N\u1ed9i dung: "])),(l()(),e.Bb(47,0,null,0,4,"ion-label",[["class","ion-text-wrap"]],null,null,null,a.rb,a.y)),e.Ab(48,49152,null,0,s.N,[e.j,e.p,e.F],null,null),(l()(),e.Bb(49,0,null,0,2,"div",[],[[8,"innerHTML",1]],null,null,null,null)),e.Rb(50,1),e.Rb(51,1),(l()(),e.Bb(52,0,null,0,6,"ion-item",[],null,null,null,a.qb,a.x)),e.Ab(53,49152,null,0,s.H,[e.j,e.p,e.F],null,null),(l()(),e.Bb(54,0,null,0,1,"strong",[["slot","start"]],null,null,null,null,null)),(l()(),e.Vb(-1,null,[" L\u0129nh v\u1ef1c: "])),(l()(),e.Bb(56,0,null,0,2,"ion-label",[["class","ion-text-wrap"]],null,null,null,a.rb,a.y)),e.Ab(57,49152,null,0,s.N,[e.j,e.p,e.F],null,null),(l()(),e.Vb(58,0,[" "," "])),(l()(),e.Bb(59,0,null,0,6,"ion-item",[],null,null,null,a.qb,a.x)),e.Ab(60,49152,null,0,s.H,[e.j,e.p,e.F],null,null),(l()(),e.Bb(61,0,null,0,1,"strong",[["slot","start"]],null,null,null,null,null)),(l()(),e.Vb(-1,null,[" Giai \u0111o\u1ea1n: "])),(l()(),e.Bb(63,0,null,0,2,"ion-label",[["class","ion-text-wrap"]],null,null,null,a.rb,a.y)),e.Ab(64,49152,null,0,s.N,[e.j,e.p,e.F],null,null),(l()(),e.Vb(65,0,[" "," "])),(l()(),e.Bb(66,0,null,0,12,"ion-item",[["lines","none"]],null,null,null,a.qb,a.x)),e.Ab(67,49152,null,0,s.H,[e.j,e.p,e.F],{lines:[0,"lines"]},null),(l()(),e.Bb(68,0,null,0,2,"ion-button",[["shape","round"],["size","small"],["slot","start"]],null,[[null,"click"]],(function(l,n,i){var e=!0,t=l.component;return"click"===n&&(e=!1!==t.likeIdea(null==t.ideaInfo?null:t.ideaInfo.idea)&&e),e}),a.W,a.d)),e.Ab(69,49152,null,0,s.k,[e.j,e.p,e.F],{color:[0,"color"],shape:[1,"shape"],size:[2,"size"]},null),(l()(),e.Vb(70,0,[" "," likes "])),(l()(),e.Bb(71,0,null,0,2,"ion-button",[["shape","round"],["size","small"],["slot","start"]],null,null,null,a.W,a.d)),e.Ab(72,49152,null,0,s.k,[e.j,e.p,e.F],{color:[0,"color"],shape:[1,"shape"],size:[2,"size"]},null),(l()(),e.Vb(73,0,[" "," comments "])),(l()(),e.Bb(74,0,null,0,2,"ion-button",[["shape","round"],["size","small"],["slot","start"]],null,null,null,a.W,a.d)),e.Ab(75,49152,null,0,s.k,[e.j,e.p,e.F],{color:[0,"color"],shape:[1,"shape"],size:[2,"size"]},null),(l()(),e.Vb(76,0,[" "," \u0111i\u1ec3m "])),(l()(),e.qb(16777216,null,0,1,null,x)),e.Ab(78,16384,null,0,r.l,[e.W,e.S],{ngIf:[0,"ngIf"]},null),(l()(),e.Bb(79,0,null,0,2,"div",[],[[4,"padding-left",null]],null,null,null,null)),(l()(),e.qb(16777216,null,null,1,null,F)),e.Ab(81,278528,null,0,r.k,[e.W,e.S,e.x],{ngForOf:[0,"ngForOf"]},null),(l()(),e.qb(16777216,null,0,1,null,v)),e.Ab(83,16384,null,0,r.l,[e.W,e.S],{ngIf:[0,"ngIf"]},null),(l()(),e.Bb(84,0,null,0,25,"ion-card",[["class","input-comment"]],null,null,null,a.cb,a.f)),e.Ab(85,49152,null,0,s.m,[e.j,e.p,e.F],null,null),(l()(),e.Bb(86,0,null,0,21,"ion-item",[["lines","none"]],null,null,null,a.qb,a.x)),e.Ab(87,49152,null,0,s.H,[e.j,e.p,e.F],{lines:[0,"lines"]},null),(l()(),e.Bb(88,0,null,0,2,"ion-avatar",[["slot","start"]],null,null,null,a.U,a.b)),e.Ab(89,49152,null,0,s.f,[e.j,e.p,e.F],null,null),(l()(),e.Bb(90,0,null,0,0,"img",[],[[8,"src",4]],null,null,null,null)),(l()(),e.Bb(91,0,null,0,7,"ion-textarea",[["autosize",""],["placeholder","\u0110\xf3ng g\xf3p \xfd ki\u1ebfn .... "],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"ionBlur"],[null,"ionChange"],[null,"input"]],(function(l,n,i){var t=!0,u=l.component;return"ionBlur"===n&&(t=!1!==e.Nb(l,92)._handleBlurEvent(i.target)&&t),"ionChange"===n&&(t=!1!==e.Nb(l,92)._handleInputEvent(i.target)&&t),"input"===n&&(t=!1!==e.Nb(l,98).onInput(i.target)&&t),"ngModelChange"===n&&(t=!1!==(u.message=i)&&t),t}),a.Hb,a.O)),e.Ab(92,16384,null,0,s.Qb,[e.p],null,null),e.Sb(1024,null,p.e,(function(l){return[l]}),[s.Qb]),e.Ab(94,671744,null,0,p.h,[[8,null],[8,null],[8,null],[6,p.e]],{model:[0,"model"]},{update:"ngModelChange"}),e.Sb(2048,null,p.f,null,[p.h]),e.Ab(96,16384,null,0,p.g,[[4,p.f]],null,null),e.Ab(97,49152,null,0,s.yb,[e.j,e.p,e.F],{placeholder:[0,"placeholder"]},null),e.Ab(98,2768896,null,0,m.a,[e.p,e.F],null,null),(l()(),e.Bb(99,0,null,0,4,"ion-button",[["color","medium"],["fill","clear"],["shape","round"]],null,null,null,a.W,a.d)),e.Ab(100,49152,null,0,s.k,[e.j,e.p,e.F],{color:[0,"color"],fill:[1,"fill"],shape:[2,"shape"]},null),(l()(),e.Bb(101,0,null,0,0,"input",[["accept","image/gif, image/jpeg, image/png\n                  , application/pdf\n                  , .txt, .md\n                  , .csv, application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, application/vnd.ms-excel\n                  , application/msword, application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["class","file-over"],["multiple","multiple"],["type","file"]],null,[[null,"change"]],(function(l,n,i){var e=!0;return"change"===n&&(e=!1!==l.component.uploadFilesEvent(i)&&e),e}),null,null)),(l()(),e.Bb(102,0,null,0,1,"ion-icon",[["name","attach"],["slot","icon-only"]],null,null,null,a.nb,a.u)),e.Ab(103,49152,null,0,s.C,[e.j,e.p,e.F],{name:[0,"name"]},null),(l()(),e.Bb(104,0,null,0,3,"ion-button",[["fill","clear"],["shape","round"]],null,[[null,"click"]],(function(l,n,i){var e=!0;return"click"===n&&(e=!1!==l.component.onClickSend()&&e),e}),a.W,a.d)),e.Ab(105,49152,null,0,s.k,[e.j,e.p,e.F],{color:[0,"color"],fill:[1,"fill"],shape:[2,"shape"]},null),(l()(),e.Bb(106,0,null,0,1,"ion-icon",[["name","send"],["slot","icon-only"]],null,null,null,a.nb,a.u)),e.Ab(107,49152,null,0,s.C,[e.j,e.p,e.F],{name:[0,"name"]},null),(l()(),e.qb(16777216,null,0,1,null,B)),e.Ab(109,16384,null,0,r.l,[e.W,e.S],{ngIf:[0,"ngIf"]},null),(l()(),e.Bb(110,0,null,0,3,"ion-list",[["class","comment-list"]],null,null,null,a.tb,a.z)),e.Ab(111,49152,null,0,s.O,[e.j,e.p,e.F],null,null),(l()(),e.qb(16777216,null,0,1,null,j)),e.Ab(113,278528,null,0,r.k,[e.W,e.S,e.x],{ngForOf:[0,"ngForOf"]},null)],(function(l,n){var i=n.component;l(n,5,0,"primary"),l(n,17,0,"none"),l(n,31,0,"clear","round","small"),l(n,33,0,"ios-more"),l(n,67,0,"none"),l(n,69,0,e.Fb(1,"",null!=i.ideaInfo&&i.ideaInfo.isUserVoted?"secondary":"light",""),"round","small"),l(n,72,0,e.Fb(1,"",null!=i.ideaInfo&&i.ideaInfo.isUserCommented?"success":"light",""),"round","small"),l(n,75,0,e.Fb(1,"",null!=i.ideaInfo&&i.ideaInfo.isUserCommented?"success":"light",""),"round","small"),l(n,78,0,(null==i.ideaInfo?null:null==i.ideaInfo.idea?null:null==i.ideaInfo.idea.attach_id_list?null:i.ideaInfo.idea.attach_id_list.length)>0),l(n,81,0,null==i.ideaInfo?null:null==i.ideaInfo.idea?null:i.ideaInfo.idea.images),l(n,83,0,(null==i.ideaInfo?null:null==i.ideaInfo.idea?null:null==i.ideaInfo.idea.attachs?null:i.ideaInfo.idea.attachs.length)>0),l(n,87,0,"none"),l(n,94,0,i.message),l(n,97,0,"\u0110\xf3ng g\xf3p \xfd ki\u1ebfn .... "),l(n,100,0,"medium","clear","round"),l(n,103,0,"attach"),l(n,105,0,e.Fb(1,"",i.message||i.uploadingFiles.length>0?"secondary":"light",""),"clear","round"),l(n,107,0,"send"),l(n,109,0,(null==i.uploadingFiles?null:i.uploadingFiles.length)>0),l(n,113,0,null==i.ideaInfo?null:i.ideaInfo.comments)}),(function(l,n){var i=n.component;l(n,20,0,e.Fb(1,"",null==i.ideaInfo?null:null==i.ideaInfo.idea?null:i.ideaInfo.idea.avatar,"")),l(n,24,0,null==i.ideaInfo?null:null==i.ideaInfo.idea?null:i.ideaInfo.idea.username),l(n,28,0,e.Wb(n,28,0,e.Nb(n,29).transform(null==i.ideaInfo?null:null==i.ideaInfo.idea?null:i.ideaInfo.idea.created_time))),l(n,39,0,null==i.ideaInfo?null:null==i.ideaInfo.idea?null:i.ideaInfo.idea.id),l(n,42,0,null==i.ideaInfo?null:null==i.ideaInfo.idea?null:i.ideaInfo.idea.title);var t=e.Wb(n,49,0,l(n,51,0,e.Nb(n,0),e.Wb(n,49,0,l(n,50,0,e.Nb(n,1),null==i.ideaInfo?null:null==i.ideaInfo.idea?null:i.ideaInfo.idea.description))));l(n,49,0,t),l(n,58,0,null==i.ideaInfo?null:null==i.ideaInfo.idea?null:i.ideaInfo.idea.category_name),l(n,65,0,null==i.ideaInfo?null:null==i.ideaInfo.idea?null:i.ideaInfo.idea.status_name),l(n,70,0,null==i.ideaInfo?null:null==i.ideaInfo.idea?null:i.ideaInfo.idea.voted_count),l(n,73,0,null==i.ideaInfo?null:null==i.ideaInfo.comments?null:i.ideaInfo.comments.length),l(n,76,0,null==i.ideaInfo?null:null==i.ideaInfo.idea?null:i.ideaInfo.idea.total_point),l(n,79,0,"20px"),l(n,90,0,e.Fb(1,"",null==i.userInfo?null:i.userInfo.avatar,"")),l(n,91,0,e.Nb(n,96).ngClassUntouched,e.Nb(n,96).ngClassTouched,e.Nb(n,96).ngClassPristine,e.Nb(n,96).ngClassDirty,e.Nb(n,96).ngClassValid,e.Nb(n,96).ngClassInvalid,e.Nb(n,96).ngClassPending)}))}function U(l){return e.Xb(0,[(l()(),e.Bb(0,0,null,null,1,"app-idea-detail",[],null,null,null,O,y)),e.Ab(1,114688,null,0,I,[A.a,d.g,d.b,f.a,g.a],null,null)],(function(l,n){l(n,1,0)}),null)}var V=e.xb("app-idea-detail",I,U,{},{},[]),w=i("FOYl"),N=i("IheW"),M=i("6GXZ"),q=i("YD+O"),D=i("EpeG"),W=i("7ePi"),P=i("jVYb"),z=i("d2mR");class ${}i.d(n,"IdeaDetailPageModuleNgFactory",(function(){return T}));var T=e.yb(t,[],(function(l){return e.Kb([e.Lb(512,e.m,e.jb,[[8,[u.b,u.c,u.d,u.h,u.i,u.a,u.e,u.f,u.g,o.a,V]],[3,e.m],e.D]),e.Lb(4608,r.n,r.m,[e.z,[2,r.w]]),e.Lb(4608,p.k,p.k,[]),e.Lb(4608,s.b,s.b,[e.F,e.g]),e.Lb(4608,s.Ib,s.Ib,[s.b,e.m,e.w]),e.Lb(4608,s.Mb,s.Mb,[s.b,e.m,e.w]),e.Lb(5120,w.b,w.f,[]),e.Lb(5120,w.a,w.e,[]),e.Lb(4608,N.i,N.o,[r.c,e.I,N.m]),e.Lb(4608,N.p,N.p,[N.i,N.n]),e.Lb(5120,N.a,(function(l){return[l,new d.s]}),[N.p]),e.Lb(4608,N.l,N.l,[]),e.Lb(6144,N.j,null,[N.l]),e.Lb(4608,N.h,N.h,[N.j]),e.Lb(6144,N.b,null,[N.h]),e.Lb(4608,N.f,N.k,[N.b,e.w]),e.Lb(4608,N.c,N.c,[N.f]),e.Lb(4608,M.a,M.a,[]),e.Lb(1073742336,r.b,r.b,[]),e.Lb(1073742336,p.j,p.j,[]),e.Lb(1073742336,p.b,p.b,[]),e.Lb(1073742336,s.Eb,s.Eb,[]),e.Lb(1073742336,q.b,q.b,[]),e.Lb(1073742336,D.b,D.b,[]),e.Lb(1073742336,W.b,W.b,[]),e.Lb(1073742336,P.b,P.b,[]),e.Lb(1073742336,w.c,w.c,[]),e.Lb(1073742336,N.e,N.e,[]),e.Lb(1073742336,N.d,N.d,[]),e.Lb(1073742336,d.o,d.o,[]),e.Lb(1073742336,m.b,m.b,[]),e.Lb(1073742336,z.a,z.a,[]),e.Lb(1073742336,A.p,A.p,[[2,A.u],[2,A.m]]),e.Lb(1073742336,$,$,[]),e.Lb(1073742336,t,t,[]),e.Lb(256,N.m,"XSRF-TOKEN",[]),e.Lb(256,N.n,"X-XSRF-TOKEN",[]),e.Lb(1024,A.k,(function(){return[[{path:"",component:I}]]}),[])])}))}}]);