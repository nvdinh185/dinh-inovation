{"version":3,"sources":["node_modules/@ionic-native/in-app-browser/ngx/index.js","src/app/idea-entry/idea-detail/idea-detail.page.html","src/app/idea-entry/idea-detail/idea-detail-routing.module.ts","src/app/idea-entry/idea-detail/idea-detail.module.ts","src/app/idea-entry/idea-detail/idea-detail.page.scss","src/app/idea-entry/idea-detail/idea-detail.page.ts","src/app/idea-entry/idea-detail/link.url.pipe.ts"],"names":[],"mappings":"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","sourcesContent":["import { __decorate, __extends } from \"tslib\";\nimport { Injectable } from '@angular/core';\nimport { IonicNativePlugin, instanceAvailability, cordovaInstance } from '@ionic-native/core';\nimport { Observable } from 'rxjs';\nvar InAppBrowserObject = /** @class */ (function () {\n    /**\n     * Opens a URL in a new InAppBrowser instance, the current browser instance, or the system browser.\n     * @param {string} url     The URL to load.\n     * @param {string} [target=\"self\"]  The target in which to load the URL, an optional parameter that defaults to _self.\n     *                 _self: Opens in the WebView if the URL is in the white list, otherwise it opens in the InAppBrowser.\n     *                 _blank: Opens in the InAppBrowser.\n     *                 _system: Opens in the system's web browser.\n     * @param {string | InAppBrowserOptions} [options] Options for the InAppBrowser. Optional, defaulting to: location=yes.\n     *                 The options string must not contain any blank space, and each feature's\n     *                 name/value pairs must be separated by a comma. Feature names are case insensitive.\n     */\n    function InAppBrowserObject(url, target, options) {\n        try {\n            if (options && typeof options !== 'string') {\n                options = Object.keys(options)\n                    .map(function (key) { return key + \"=\" + options[key]; })\n                    .join(',');\n            }\n            this._objectInstance = cordova.InAppBrowser.open(url, target, options);\n        }\n        catch (e) {\n            if (typeof window !== 'undefined') {\n                window.open(url, target);\n            }\n            console.warn('Native: InAppBrowser is not installed or you are running on a browser. Falling back to window.open.');\n        }\n    }\n    InAppBrowserObject.prototype._loadAfterBeforeload = function (strUrl) { return cordovaInstance(this, \"_loadAfterBeforeload\", { \"sync\": true }, arguments); };\n    InAppBrowserObject.prototype.show = function () { return cordovaInstance(this, \"show\", { \"sync\": true }, arguments); };\n    InAppBrowserObject.prototype.close = function () { return cordovaInstance(this, \"close\", { \"sync\": true }, arguments); };\n    InAppBrowserObject.prototype.hide = function () { return cordovaInstance(this, \"hide\", { \"sync\": true }, arguments); };\n    InAppBrowserObject.prototype.executeScript = function (script) { return cordovaInstance(this, \"executeScript\", {}, arguments); };\n    InAppBrowserObject.prototype.insertCSS = function (css) { return cordovaInstance(this, \"insertCSS\", {}, arguments); };\n    InAppBrowserObject.prototype.on = function (event) {\n        var _this = this;\n        return (function () {\n            if (instanceAvailability(_this) === true) {\n                return new Observable(function (observer) {\n                    _this._objectInstance.addEventListener(event, observer.next.bind(observer));\n                    return function () { return _this._objectInstance.removeEventListener(event, observer.next.bind(observer)); };\n                });\n            }\n        })();\n    };\n    InAppBrowserObject.prototype.on = function (event) {\n        var _this = this;\n        return (function () {\n            if (instanceAvailability(_this) === true) {\n                return new Observable(function (observer) {\n                    _this._objectInstance.addEventListener(event, observer.next.bind(observer));\n                    return function () { return _this._objectInstance.removeEventListener(event, observer.next.bind(observer)); };\n                });\n            }\n        })();\n    };\n    return InAppBrowserObject;\n}());\nexport { InAppBrowserObject };\nvar InAppBrowser = /** @class */ (function (_super) {\n    __extends(InAppBrowser, _super);\n    function InAppBrowser() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * Opens a URL in a new InAppBrowser instance, the current browser instance, or the system browser.\n     * @param  url {string}     The URL to load.\n     * @param  target {string}  The target in which to load the URL, an optional parameter that defaults to _self.\n     * @param  options {string} Options for the InAppBrowser. Optional, defaulting to: location=yes.\n     *                 The options string must not contain any blank space, and each feature's\n     *                 name/value pairs must be separated by a comma. Feature names are case insensitive.\n     * @returns {InAppBrowserObject}\n     */\n    InAppBrowser.prototype.create = function (url, target, options) {\n        return new InAppBrowserObject(url, target, options);\n    };\n    InAppBrowser.pluginName = \"InAppBrowser\";\n    InAppBrowser.plugin = \"cordova-plugin-inappbrowser\";\n    InAppBrowser.pluginRef = \"cordova.InAppBrowser\";\n    InAppBrowser.repo = \"https://github.com/apache/cordova-plugin-inappbrowser\";\n    InAppBrowser.platforms = [\"AmazonFire OS\", \"Android\", \"Browser\", \"iOS\", \"macOS\", \"Windows\"];\n    InAppBrowser = __decorate([\n        Injectable()\n    ], InAppBrowser);\n    return InAppBrowser;\n}(IonicNativePlugin));\nexport { InAppBrowser };\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi9zcmMvQGlvbmljLW5hdGl2ZS9wbHVnaW5zL2luLWFwcC1icm93c2VyL25neC9pbmRleC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUEsT0FBTyxFQUFFLFVBQVUsRUFBRSxNQUFNLGVBQWUsQ0FBQztBQUMzQyxPQUFPLDREQUE2RCxNQUFNLG9CQUFvQixDQUFDO0FBQy9GLE9BQU8sRUFBRSxVQUFVLEVBQVksTUFBTSxNQUFNLENBQUM7O0lBa0oxQzs7Ozs7Ozs7OztPQVVHO0lBQ0gsNEJBQVksR0FBVyxFQUFFLE1BQWUsRUFBRSxPQUFzQztRQUM5RSxJQUFJO1lBQ0YsSUFBSSxPQUFPLElBQUksT0FBTyxPQUFPLEtBQUssUUFBUSxFQUFFO2dCQUMxQyxPQUFPLEdBQUcsTUFBTSxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUM7cUJBQzNCLEdBQUcsQ0FBQyxVQUFDLEdBQVcsSUFBSyxPQUFHLEdBQUcsU0FBSyxPQUErQixDQUFDLEdBQUcsQ0FBRyxFQUFqRCxDQUFpRCxDQUFDO3FCQUN2RSxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUM7YUFDZDtZQUVELElBQUksQ0FBQyxlQUFlLEdBQUcsT0FBTyxDQUFDLFlBQVksQ0FBQyxJQUFJLENBQUMsR0FBRyxFQUFFLE1BQU0sRUFBRSxPQUFPLENBQUMsQ0FBQztTQUN4RTtRQUFDLE9BQU8sQ0FBQyxFQUFFO1lBQ1YsSUFBSSxPQUFPLE1BQU0sS0FBSyxXQUFXLEVBQUU7Z0JBQ2pDLE1BQU0sQ0FBQyxJQUFJLENBQUMsR0FBRyxFQUFFLE1BQU0sQ0FBQyxDQUFDO2FBQzFCO1lBQ0QsT0FBTyxDQUFDLElBQUksQ0FDVixxR0FBcUcsQ0FDdEcsQ0FBQztTQUNIO0lBQ0gsQ0FBQztJQU9ELGlEQUFvQixhQUFDLE1BQWM7SUFPbkMsaUNBQUk7SUFNSixrQ0FBSztJQU9MLGlDQUFJO0lBUUosMENBQWEsYUFBQyxNQUF3QztJQVV0RCxzQ0FBUyxhQUFDLEdBQXFDO0lBVS9DLCtCQUFFLGFBQUMsS0FBNEI7OztzREFBaUM7Z0JBQzlELE9BQU8sSUFBSSxVQUFVLENBQW9CLFVBQUMsUUFBcUM7b0JBQzdFLEtBQUksQ0FBQyxlQUFlLENBQUMsZ0JBQWdCLENBQUMsS0FBSyxFQUFFLFFBQVEsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUM7b0JBQzNFLE9BQU8sY0FBTSxPQUFBLEtBQUksQ0FBQyxlQUFlLENBQUMsbUJBQW1CLENBQUMsS0FBSyxFQUFFLFFBQVEsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDLEVBQTdFLENBQTZFLENBQUM7Z0JBQzdGLENBQUMsQ0FBQyxDQUFDO2FBQ0o7OztJQVFELCtCQUFFLGFBQUMsS0FBYTs7O3NEQUFpQztnQkFDL0MsT0FBTyxJQUFJLFVBQVUsQ0FBb0IsVUFBQyxRQUFxQztvQkFDN0UsS0FBSSxDQUFDLGVBQWUsQ0FBQyxnQkFBZ0IsQ0FBQyxLQUFLLEVBQUUsUUFBUSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQztvQkFDM0UsT0FBTyxjQUFNLE9BQUEsS0FBSSxDQUFDLGVBQWUsQ0FBQyxtQkFBbUIsQ0FBQyxLQUFLLEVBQUUsUUFBUSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUMsRUFBN0UsQ0FBNkUsQ0FBQztnQkFDN0YsQ0FBQyxDQUFDLENBQUM7YUFDSjs7OzZCQXpQSDs7OztJQW9Ta0MsZ0NBQWlCOzs7O0lBQ2pEOzs7Ozs7OztPQVFHO0lBQ0gsNkJBQU0sR0FBTixVQUFPLEdBQVcsRUFBRSxNQUFlLEVBQUUsT0FBc0M7UUFDekUsT0FBTyxJQUFJLGtCQUFrQixDQUFDLEdBQUcsRUFBRSxNQUFNLEVBQUUsT0FBTyxDQUFDLENBQUM7SUFDdEQsQ0FBQzs7Ozs7O0lBWlUsWUFBWTtRQUR4QixVQUFVLEVBQUU7T0FDQSxZQUFZO3VCQXBTekI7RUFvU2tDLGlCQUFpQjtTQUF0QyxZQUFZIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgSW5qZWN0YWJsZSB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgQ29yZG92YUluc3RhbmNlLCBJbnN0YW5jZUNoZWNrLCBJb25pY05hdGl2ZVBsdWdpbiwgUGx1Z2luIH0gZnJvbSAnQGlvbmljLW5hdGl2ZS9jb3JlJztcbmltcG9ydCB7IE9ic2VydmFibGUsIE9ic2VydmVyIH0gZnJvbSAncnhqcyc7XG5cbmRlY2xhcmUgY29uc3QgY29yZG92YTogQ29yZG92YSAmIHsgSW5BcHBCcm93c2VyOiBhbnkgfTtcblxuZXhwb3J0IGludGVyZmFjZSBJbkFwcEJyb3dzZXJPcHRpb25zIHtcbiAgLyoqXG4gICAqIChpT1MgT25seSkgU2V0IHRvIHllcyBvciBubyB0byBhbGxvdyBpbi1saW5lIEhUTUw1IG1lZGlhIHBsYXliYWNrLCBkaXNwbGF5aW5nIHdpdGhpbiB0aGUgYnJvd3NlciB3aW5kb3cgcmF0aGVyIHRoYW4gYSBkZXZpY2Utc3BlY2lmaWMgcGxheWJhY2sgaW50ZXJmYWNlLlxuICAgKiBUaGUgSFRNTCdzIHZpZGVvIGVsZW1lbnQgbXVzdCBhbHNvIGluY2x1ZGUgdGhlIHdlYmtpdC1wbGF5c2lubGluZSBhdHRyaWJ1dGUgKGRlZmF1bHRzIHRvIG5vKVxuICAgKi9cbiAgYWxsb3dJbmxpbmVNZWRpYVBsYXliYWNrPzogJ3llcycgfCAnbm8nO1xuICAvKipcbiAgICogc2V0IHRvIGVuYWJsZSB0aGUgYmVmb3JlbG9hZCBldmVudCB0byBtb2RpZnkgd2hpY2ggcGFnZXMgYXJlIGFjdHVhbGx5IGxvYWRlZCBpbiB0aGUgYnJvd3Nlci4gQWNjZXB0ZWQgdmFsdWVzIGFyZSBnZXQgdG9cbiAgICogaW50ZXJjZXB0IG9ubHkgR0VUIHJlcXVlc3RzLCBwb3N0IHRvIGludGVyY2VwdCBvbiBQT1NUIHJlcXVlc3RzIG9yIHllcyB0byBpbnRlcmNlcHQgYm90aCBHRVQgJiBQT1NUIHJlcXVlc3RzLlxuICAgKiBOb3RlIHRoYXQgUE9TVCByZXF1ZXN0cyBhcmUgbm90IGN1cnJlbnRseSBzdXBwb3J0ZWQgYW5kIHdpbGwgYmUgaWdub3JlZCAoaWYgeW91IHNldCBiZWZvcmVsb2FkPXBvc3QgaXQgd2lsbCByYWlzZSBhbiBlcnJvcikuXG4gICAqL1xuICBiZWZvcmVsb2FkPzogJ3llcycgfCAnZ2V0JyB8ICdwb3N0JztcbiAgLyoqIFNldCB0byB5ZXMgdG8gaGF2ZSB0aGUgYnJvd3NlcidzIGNvb2tpZSBjYWNoZSBjbGVhcmVkIGJlZm9yZSB0aGUgbmV3IHdpbmRvdyBpcyBvcGVuZWQuICovXG4gIGNsZWFyY2FjaGU/OiAneWVzJyB8ICdubyc7XG4gIC8qKiAgc2V0IHRvIHllcyB0byBoYXZlIHRoZSBicm93c2VyJ3MgZW50aXJlIGxvY2FsIHN0b3JhZ2UgY2xlYXJlZCAoY29va2llcywgSFRNTDUgbG9jYWwgc3RvcmFnZSwgSW5kZXhlZERCLCBldGMuKSBiZWZvcmUgdGhlIG5ldyB3aW5kb3cgaXMgb3BlbmVkICovXG4gIGNsZWFyZGF0YT86ICd5ZXMnIHwgJ25vJztcbiAgLyoqXG4gICAqIFNldCB0byB5ZXMgdG8gaGF2ZSB0aGUgc2Vzc2lvbiBjb29raWUgY2FjaGUgY2xlYXJlZCBiZWZvcmUgdGhlIG5ldyB3aW5kb3cgaXMgb3BlbmVkLlxuICAgKiBGb3IgV0tXZWJWaWV3LCByZXF1aXJlcyBpT1MgMTErIG9uIHRhcmdldCBkZXZpY2UuXG4gICAqL1xuICBjbGVhcnNlc3Npb25jYWNoZT86ICd5ZXMnIHwgJ25vJztcbiAgLyoqXG4gICAqIChBbmRyb2lkKSBTZXQgdG8gYSBzdHJpbmcgdG8gdXNlIGFzIHRoZSBjbG9zZSBidXR0b24ncyBjYXB0aW9uIGluc3RlYWQgb2YgYSBYLiBOb3RlIHRoYXQgeW91IG5lZWQgdG8gbG9jYWxpemUgdGhpcyB2YWx1ZSB5b3Vyc2VsZi5cbiAgICogKGlPUykgU2V0IHRvIGEgc3RyaW5nIHRvIHVzZSBhcyB0aGUgRG9uZSBidXR0b24ncyBjYXB0aW9uLiBOb3RlIHRoYXQgeW91IG5lZWQgdG8gbG9jYWxpemUgdGhpcyB2YWx1ZSB5b3Vyc2VsZi5cbiAgICovXG4gIGNsb3NlYnV0dG9uY2FwdGlvbj86IHN0cmluZztcbiAgLyoqXG4gICAqIChBbmRyb2lkKSBTZXQgdG8gYSB2YWxpZCBoZXggY29sb3Igc3RyaW5nLCBmb3IgZXhhbXBsZTogIzAwZmYwMCwgYW5kIGl0IHdpbGwgY2hhbmdlIHRoZSBjbG9zZSBidXR0b24gY29sb3IgZnJvbSBkZWZhdWx0LCByZWdhcmRsZXNzIG9mIGJlaW5nIGEgdGV4dCBvciBkZWZhdWx0IFguIE9ubHkgaGFzIGVmZmVjdCBpZiB1c2VyIGhhcyBsb2NhdGlvbiBzZXQgdG8geWVzLlxuICAgKiAoaU9TKSBTZXQgYXMgYSB2YWxpZCBoZXggY29sb3Igc3RyaW5nLCBmb3IgZXhhbXBsZTogIzAwZmYwMCwgdG8gY2hhbmdlIGZyb20gdGhlIGRlZmF1bHQgRG9uZSBidXR0b24ncyBjb2xvci4gT25seSBhcHBsaWNhYmxlIGlmIHRvb2xiYXIgaXMgbm90IGRpc2FibGVkLlxuICAgKi9cbiAgY2xvc2VidXR0b25jb2xvcj86IHN0cmluZztcbiAgLyoqIChpT1MgT25seSkgU2V0IHRvIHllcyBvciBubyAoZGVmYXVsdCBpcyBubykuIFR1cm5zIG9uL29mZiB0aGUgVUlXZWJWaWV3Qm91bmNlIHByb3BlcnR5LiAqL1xuICBkaXNhbGxvd292ZXJzY3JvbGw/OiAneWVzJyB8ICdubyc7XG4gIC8qKiAoaU9TIE9ubHkpICBTZXQgdG8geWVzIG9yIG5vIHRvIHByZXZlbnQgdmlld3BvcnQgc2NhbGluZyB0aHJvdWdoIGEgbWV0YSB0YWcgKGRlZmF1bHRzIHRvIG5vKS4gKi9cbiAgZW5hYmxlVmlld3BvcnRTY2FsZT86ICd5ZXMnIHwgJ25vJztcbiAgLyoqIChBbmRyb2lkIE9ubHkpIFNldCB0byB5ZXMgdG8gc2hvdyBhIGNsb3NlIGJ1dHRvbiBpbiB0aGUgZm9vdGVyIHNpbWlsYXIgdG8gdGhlIGlPUyBEb25lIGJ1dHRvbi4gVGhlIGNsb3NlIGJ1dHRvbiB3aWxsIGFwcGVhciB0aGUgc2FtZSBhcyBmb3IgdGhlIGhlYWRlciBoZW5jZSB1c2UgY2xvc2VidXR0b25jYXB0aW9uIGFuZCBjbG9zZWJ1dHRvbmNvbG9yIHRvIHNldCBpdHMgcHJvcGVydGllcyAqL1xuICBmb290ZXI/OiAneWVzJyB8ICdubyc7XG4gIC8qKiAoQW5kcm9pZCBPbmx5KSBTZXQgdG8gYSB2YWxpZCBoZXggY29sb3Igc3RyaW5nLCBmb3IgZXhhbXBsZSAjMDBmZjAwIG9yICNDQzAwZmYwMCAoI2FhcnJnZ2JiKSwgYW5kIGl0IHdpbGwgY2hhbmdlIHRoZSBmb290ZXIgY29sb3IgZnJvbSBkZWZhdWx0LiBPbmx5IGhhcyBlZmZlY3QgaWYgdXNlciBoYXMgZm9vdGVyIHNldCB0byB5ZXMgKi9cbiAgZm9vdGVyY29sb3I/OiBzdHJpbmc7XG4gIC8qKlxuICAgKiAoV2luZG93cyBvbmx5KSBTZXQgdG8geWVzIHRvIGNyZWF0ZSB0aGUgYnJvd3NlciBjb250cm9sIHdpdGhvdXQgYSBib3JkZXIgYXJvdW5kIGl0LlxuICAgKiBQbGVhc2Ugbm90ZSB0aGF0IGlmIGxvY2F0aW9uPW5vIGlzIGFsc28gc3BlY2lmaWVkLCB0aGVyZSB3aWxsIGJlIG5vIGNvbnRyb2wgcHJlc2VudGVkIHRvIHVzZXIgdG8gY2xvc2UgSUFCIHdpbmRvdy5cbiAgICovXG4gIGZ1bGxzY3JlZW4/OiAneWVzJyB8ICdubyc7XG4gIC8qKlxuICAgKiAoQW5kcm9pZCAmIFdpbmRvd3MgT25seSkgU2V0IHRvIHllcyB0byB1c2UgdGhlIGhhcmR3YXJlIGJhY2sgYnV0dG9uIHRvIG5hdmlnYXRlIGJhY2t3YXJkcyB0aHJvdWdoIHRoZSBJbkFwcEJyb3dzZXIncyBoaXN0b3J5LlxuICAgKiBJZiB0aGVyZSBpcyBubyBwcmV2aW91cyBwYWdlLCB0aGUgSW5BcHBCcm93c2VyIHdpbGwgY2xvc2UuIFRoZSBkZWZhdWx0IHZhbHVlIGlzIHllcywgc28geW91IG11c3Qgc2V0IGl0IHRvIG5vIGlmIHlvdSB3YW50IHRoZSBiYWNrIGJ1dHRvbiB0byBzaW1wbHkgY2xvc2UgdGhlIEluQXBwQnJvd3Nlci5cbiAgICovXG4gIGhhcmR3YXJlYmFjaz86ICd5ZXMnIHwgJ25vJztcbiAgLyoqXG4gICAqIFNldCB0byB5ZXMgdG8gY3JlYXRlIHRoZSBicm93c2VyIGFuZCBsb2FkIHRoZSBwYWdlLCBidXQgbm90IHNob3cgaXQuIFRoZSBsb2Fkc3RvcCBldmVudCBmaXJlcyB3aGVuIGxvYWRpbmcgaXMgY29tcGxldGUuXG4gICAqIE9taXQgb3Igc2V0IHRvIG5vIChkZWZhdWx0KSB0byBoYXZlIHRoZSBicm93c2VyIG9wZW4gYW5kIGxvYWQgbm9ybWFsbHkuXG4gICAqL1xuICBoaWRkZW4/OiAneWVzJyB8ICdubyc7XG4gIC8qKlxuICAgKiAoQW5kcm9pZCkgU2V0IHRvIHllcyB0byBoaWRlIHRoZSBuYXZpZ2F0aW9uIGJ1dHRvbnMgb24gdGhlIGxvY2F0aW9uIHRvb2xiYXIsIG9ubHkgaGFzIGVmZmVjdCBpZiB1c2VyIGhhcyBsb2NhdGlvbiBzZXQgdG8geWVzLiBUaGUgZGVmYXVsdCB2YWx1ZSBpcyBuby5cbiAgICogKGlPUykgU2V0IHRvIHllcyBvciBubyB0byB0dXJuIHRoZSB0b29sYmFyIG5hdmlnYXRpb24gYnV0dG9ucyBvbiBvciBvZmYgKGRlZmF1bHRzIHRvIG5vKS4gT25seSBhcHBsaWNhYmxlIGlmIHRvb2xiYXIgaXMgbm90IGRpc2FibGVkLlxuICAgKi9cbiAgaGlkZW5hdmlnYXRpb25idXR0b25zPzogJ3llcycgfCAnbm8nO1xuICAvKipcbiAgICogIChpT1MgT25seSkgU2V0IHRvIHllcyBvciBubyB0byBjaGFuZ2UgdGhlIHZpc2liaWxpdHkgb2YgdGhlIGxvYWRpbmcgaW5kaWNhdG9yIChkZWZhdWx0cyB0byBubykuXG4gICAqL1xuICBoaWRlc3Bpbm5lcj86ICd5ZXMnIHwgJ25vJztcbiAgLyoqIChBbmRyb2lkKSBTZXQgdG8geWVzIHRvIGhpZGUgdGhlIHVybCBiYXIgb24gdGhlIGxvY2F0aW9uIHRvb2xiYXIsIG9ubHkgaGFzIGVmZmVjdCBpZiB1c2VyIGhhcyBsb2NhdGlvbiBzZXQgdG8geWVzLiBUaGUgZGVmYXVsdCB2YWx1ZSBpcyBuby4gKi9cbiAgaGlkZXVybGJhcj86ICd5ZXMnIHwgJ25vJztcbiAgLyoqIChpT1MgT25seSkgU2V0IHRvIHllcyBvciBubyB0byBvcGVuIHRoZSBrZXlib2FyZCB3aGVuIGZvcm0gZWxlbWVudHMgcmVjZWl2ZSBmb2N1cyB2aWEgSmF2YVNjcmlwdCdzIGZvY3VzKCkgY2FsbCAoZGVmYXVsdHMgdG8geWVzKS4gKi9cbiAga2V5Ym9hcmREaXNwbGF5UmVxdWlyZXNVc2VyQWN0aW9uPzogJ3llcycgfCAnbm8nO1xuICAvKipcbiAgICogKEFuZHJvaWQpIFNldCB0byB5ZXMgdG8gc3dhcCBwb3NpdGlvbnMgb2YgdGhlIG5hdmlnYXRpb24gYnV0dG9ucyBhbmQgdGhlIGNsb3NlIGJ1dHRvbi4gU3BlY2lmaWNhbGx5LCBuYXZpZ2F0aW9uIGJ1dHRvbnMgZ28gdG8gdGhlIGxlZnQgYW5kIGNsb3NlIGJ1dHRvbiB0byB0aGUgcmlnaHQuXG4gICAqIChpT1MpIFNldCB0byB5ZXMgdG8gc3dhcCBwb3NpdGlvbnMgb2YgdGhlIG5hdmlnYXRpb24gYnV0dG9ucyBhbmQgdGhlIGNsb3NlIGJ1dHRvbi4gU3BlY2lmaWNhbGx5LCBjbG9zZSBidXR0b24gZ29lcyB0byB0aGUgcmlnaHQgYW5kIG5hdmlnYXRpb24gYnV0dG9ucyB0byB0aGUgbGVmdC5cbiAgICovXG4gIGxlZnR0b3JpZ2h0PzogJ3llcycgfCAnbm8nO1xuICAvKiogU2V0IHRvIHllcyBvciBubyB0byB0dXJuIHRoZSBJbkFwcEJyb3dzZXIncyBsb2NhdGlvbiBiYXIgb24gb3Igb2ZmLiAqL1xuICBsb2NhdGlvbj86ICd5ZXMnIHwgJ25vJztcbiAgLyoqXG4gICAqICBTZXQgdG8geWVzIHRvIHByZXZlbnQgSFRNTDUgYXVkaW8gb3IgdmlkZW8gZnJvbSBhdXRvcGxheWluZyAoZGVmYXVsdHMgdG8gbm8pLlxuICAgKi9cbiAgbWVkaWFQbGF5YmFja1JlcXVpcmVzVXNlckFjdGlvbj86ICd5ZXMnIHwgJ25vJztcbiAgLyoqXG4gICAqIChBbmRyb2lkKSBTZXQgdG8gYSB2YWxpZCBoZXggY29sb3Igc3RyaW5nLCBmb3IgZXhhbXBsZTogIzAwZmYwMCwgYW5kIGl0IHdpbGwgY2hhbmdlIHRoZSBjb2xvciBvZiBib3RoIG5hdmlnYXRpb24gYnV0dG9ucyBmcm9tIGRlZmF1bHQuIE9ubHkgaGFzIGVmZmVjdCBpZiB1c2VyIGhhcyBsb2NhdGlvbiBzZXQgdG8geWVzIGFuZCBub3QgaGlkZW5hdmlnYXRpb25idXR0b25zIHNldCB0byB5ZXMuXG4gICAqIChpT1MpIFNldCBhcyBhIHZhbGlkIGhleCBjb2xvciBzdHJpbmcsIGZvciBleGFtcGxlOiAjMDBmZjAwLCB0byBjaGFuZ2UgZnJvbSB0aGUgZGVmYXVsdCBjb2xvci4gT25seSBhcHBsaWNhYmxlIGlmIG5hdmlnYXRpb24gYnV0dG9ucyBhcmUgdmlzaWJsZS5cbiAgICovXG4gIG5hdmlnYXRpb25idXR0b25jb2xvcj86IHN0cmluZztcbiAgLyoqIChpT1MgT25seSkgU2V0IHRvIHBhZ2VzaGVldCwgZm9ybXNoZWV0IG9yIGZ1bGxzY3JlZW4gdG8gc2V0IHRoZSBwcmVzZW50YXRpb24gc3R5bGUgKGRlZmF1bHRzIHRvIGZ1bGxzY3JlZW4pLiAqL1xuICBwcmVzZW50YXRpb25zdHlsZT86ICdwYWdlc2hlZXQnIHwgJ2Zvcm1zaGVldCcgfCAnZnVsbHNjcmVlbic7XG4gIC8qKiAoQW5kcm9pZCBPbmx5KSBTZXQgdG8geWVzIHRvIG1ha2UgSW5BcHBCcm93c2VyIFdlYlZpZXcgdG8gcGF1c2UvcmVzdW1lIHdpdGggdGhlIGFwcCB0byBzdG9wIGJhY2tncm91bmQgYXVkaW8gKHRoaXMgbWF5IGJlIHJlcXVpcmVkIHRvIGF2b2lkIEdvb2dsZSBQbGF5IGlzc3VlcykgKi9cbiAgc2hvdWxkUGF1c2VPblN1c3BlbmQ/OiAneWVzJyB8ICdubyc7XG4gIC8qKiAoaU9TIE9ubHkpIFNldCB0byB5ZXMgb3Igbm8gdG8gd2FpdCB1bnRpbCBhbGwgbmV3IHZpZXcgY29udGVudCBpcyByZWNlaXZlZCBiZWZvcmUgYmVpbmcgcmVuZGVyZWQgKGRlZmF1bHRzIHRvIG5vKS4gKi9cbiAgc3VwcHJlc3Nlc0luY3JlbWVudGFsUmVuZGVyaW5nPzogJ3llcycgfCAnbm8nO1xuICAvKiogKGlPUyBPbmx5KSBTZXQgdG8geWVzIG9yIG5vIHRvIHR1cm4gdGhlIHRvb2xiYXIgb24gb3Igb2ZmIGZvciB0aGUgSW5BcHBCcm93c2VyIChkZWZhdWx0cyB0byB5ZXMpICovXG4gIHRvb2xiYXI/OiAneWVzJyB8ICdubyc7XG4gIC8qKlxuICAgKiAoQW5kcm9pZCkgU2V0IHRvIGEgdmFsaWQgaGV4IGNvbG9yIHN0cmluZywgZm9yIGV4YW1wbGU6ICMwMGZmMDAsIGFuZCBpdCB3aWxsIGNoYW5nZSB0aGUgY29sb3IgdGhlIHRvb2xiYXIgZnJvbSBkZWZhdWx0LiBPbmx5IGhhcyBlZmZlY3QgaWYgdXNlciBoYXMgbG9jYXRpb24gc2V0IHRvIHllcy5cbiAgICogKGlPUykgU2V0IGFzIGEgdmFsaWQgaGV4IGNvbG9yIHN0cmluZywgZm9yIGV4YW1wbGU6ICMwMGZmMDAsIHRvIGNoYW5nZSBmcm9tIHRoZSBkZWZhdWx0IGNvbG9yIG9mIHRoZSB0b29sYmFyLiBPbmx5IGFwcGxpY2FibGUgaWYgdG9vbGJhciBpcyBub3QgZGlzYWJsZWQuXG4gICAqL1xuICB0b29sYmFyY29sb3I/OiBzdHJpbmc7XG4gIC8qKiAoaU9TIE9ubHkpIFNldCB0byB0b3Agb3IgYm90dG9tIChkZWZhdWx0IGlzIGJvdHRvbSkuIENhdXNlcyB0aGUgdG9vbGJhciB0byBiZSBhdCB0aGUgdG9wIG9yIGJvdHRvbSBvZiB0aGUgd2luZG93LiAqL1xuICB0b29sYmFycG9zaXRpb24/OiAndG9wJyB8ICdib3R0b20nO1xuICAvKiogKGlPUyBPbmx5KSBTZXQgdG8geWVzIG9yIG5vIHRvIG1ha2UgdGhlIHRvb2xiYXIgdHJhbnNsdWNlbnQoc2VtaS10cmFuc3BhcmVudCkgKGRlZmF1bHRzIHRvIHllcykuIE9ubHkgYXBwbGljYWJsZSBpZiB0b29sYmFyIGlzIG5vdCBkaXNhYmxlZC4gKi9cbiAgdG9vbGJhcnRyYW5zbHVjZW50PzogJ3llcycgfCAnbm8nO1xuICAvKiogKGlPUyBPbmx5KSBTZXQgdG8gZmxpcGhvcml6b250YWwsIGNyb3NzZGlzc29sdmUgb3IgY292ZXJ2ZXJ0aWNhbCB0byBzZXQgdGhlIHRyYW5zaXRpb24gc3R5bGUgKGRlZmF1bHRzIHRvIGNvdmVydmVydGljYWwpLiAqL1xuICB0cmFuc2l0aW9uc3R5bGU/OiAnZmxpcGhvcml6b250YWwnIHwgJ2Nyb3NzZGlzc29sdmUnIHwgJ2NvdmVydmVydGljYWwnO1xuICAvKiogKEFuZHJvaWQgT25seSkgU2V0cyB3aGV0aGVyIHRoZSBXZWJWaWV3IHNob3VsZCBlbmFibGUgc3VwcG9ydCBmb3IgdGhlIFwidmlld3BvcnRcIiBIVE1MIG1ldGEgdGFnIG9yIHNob3VsZCB1c2UgYSB3aWRlIHZpZXdwb3J0LiBXaGVuIHRoZSB2YWx1ZSBvZiB0aGUgc2V0dGluZyBpcyBubywgdGhlIGxheW91dCB3aWR0aCBpcyBhbHdheXMgc2V0IHRvIHRoZSB3aWR0aCBvZiB0aGUgV2ViVmlldyBjb250cm9sIGluIGRldmljZS1pbmRlcGVuZGVudCAoQ1NTKSBwaXhlbHMuIFdoZW4gdGhlIHZhbHVlIGlzIHllcyBhbmQgdGhlIHBhZ2UgY29udGFpbnMgdGhlIHZpZXdwb3J0IG1ldGEgdGFnLCB0aGUgdmFsdWUgb2YgdGhlIHdpZHRoIHNwZWNpZmllZCBpbiB0aGUgdGFnIGlzIHVzZWQuIElmIHRoZSBwYWdlIGRvZXMgbm90IGNvbnRhaW4gdGhlIHRhZyBvciBkb2VzIG5vdCBwcm92aWRlIGEgd2lkdGgsIHRoZW4gYSB3aWRlIHZpZXdwb3J0IHdpbGwgYmUgdXNlZC4gKGRlZmF1bHRzIHRvIHllcykuICovXG4gIHVzZVdpZGVWaWV3UG9ydD86ICd5ZXMnIHwgJ25vJztcbiAgLyoqIChpT1MgT25seSkgU2V0IHRvIHllcyB0byB1c2UgV0tXZWJWaWV3IGVuZ2luZSBmb3IgdGhlIEluYXBwQnJvd3Nlci4gT21pdCBvciBzZXQgdG8gbm8gKGRlZmF1bHQpIHRvIHVzZSBVSVdlYlZpZXcuICovXG4gIHVzZXdrd2Vidmlldz86ICd5ZXMnIHwgJ25vJztcbiAgLyoqIChBbmRyb2lkIE9ubHkpIFNldCB0byB5ZXMgdG8gc2hvdyBBbmRyb2lkIGJyb3dzZXIncyB6b29tIGNvbnRyb2xzLCBzZXQgdG8gbm8gdG8gaGlkZSB0aGVtLiBEZWZhdWx0IHZhbHVlIGlzIHllcy4gKi9cbiAgem9vbT86ICd5ZXMnIHwgJ25vJztcbiAgLyoqXG4gICAqIEBoaWRkZW5cbiAgICovXG4gIFtrZXk6IHN0cmluZ106IGFueTtcbn1cblxuZXhwb3J0IHR5cGUgSW5BcHBCcm93c2VyRXZlbnRUeXBlID1cbiAgfCAnbG9hZHN0YXJ0J1xuICB8ICdsb2Fkc3RvcCdcbiAgfCAnbG9hZGVycm9yJ1xuICB8ICdleGl0J1xuICB8ICdiZWZvcmVsb2FkJ1xuICB8ICdtZXNzYWdlJ1xuICB8ICdjdXN0b21zY2hlbWUnO1xuXG5leHBvcnQgaW50ZXJmYWNlIEluQXBwQnJvd3NlckV2ZW50IGV4dGVuZHMgRXZlbnQge1xuICAvKiogdGhlIGV2ZW50IG5hbWUgKi9cbiAgdHlwZTogc3RyaW5nO1xuICAvKiogdGhlIFVSTCB0aGF0IHdhcyBsb2FkZWQuICovXG4gIHVybDogc3RyaW5nO1xuICAvKiogdGhlIGVycm9yIGNvZGUsIG9ubHkgaW4gdGhlIGNhc2Ugb2YgbG9hZGVycm9yLiAqL1xuICBjb2RlOiBudW1iZXI7XG4gIC8qKiB0aGUgZXJyb3IgbWVzc2FnZSwgb25seSBpbiB0aGUgY2FzZSBvZiBsb2FkZXJyb3IuICovXG4gIG1lc3NhZ2U6IHN0cmluZztcbiAgLyoqIHRoZSBwb3N0TWVzc2FnZSBkYXRhLCBvbmx5IGluIHRoZSBjYXNlIG9mIG1lc3NhZ2UuICovXG4gIGRhdGE6IGFueTtcbn1cblxuLyoqXG4gKiBAaGlkZGVuXG4gKi9cbmV4cG9ydCBjbGFzcyBJbkFwcEJyb3dzZXJPYmplY3Qge1xuICBwcml2YXRlIF9vYmplY3RJbnN0YW5jZTogYW55O1xuXG4gIC8qKlxuICAgKiBPcGVucyBhIFVSTCBpbiBhIG5ldyBJbkFwcEJyb3dzZXIgaW5zdGFuY2UsIHRoZSBjdXJyZW50IGJyb3dzZXIgaW5zdGFuY2UsIG9yIHRoZSBzeXN0ZW0gYnJvd3Nlci5cbiAgICogQHBhcmFtIHtzdHJpbmd9IHVybCAgICAgVGhlIFVSTCB0byBsb2FkLlxuICAgKiBAcGFyYW0ge3N0cmluZ30gW3RhcmdldD1cInNlbGZcIl0gIFRoZSB0YXJnZXQgaW4gd2hpY2ggdG8gbG9hZCB0aGUgVVJMLCBhbiBvcHRpb25hbCBwYXJhbWV0ZXIgdGhhdCBkZWZhdWx0cyB0byBfc2VsZi5cbiAgICogICAgICAgICAgICAgICAgIF9zZWxmOiBPcGVucyBpbiB0aGUgV2ViVmlldyBpZiB0aGUgVVJMIGlzIGluIHRoZSB3aGl0ZSBsaXN0LCBvdGhlcndpc2UgaXQgb3BlbnMgaW4gdGhlIEluQXBwQnJvd3Nlci5cbiAgICogICAgICAgICAgICAgICAgIF9ibGFuazogT3BlbnMgaW4gdGhlIEluQXBwQnJvd3Nlci5cbiAgICogICAgICAgICAgICAgICAgIF9zeXN0ZW06IE9wZW5zIGluIHRoZSBzeXN0ZW0ncyB3ZWIgYnJvd3Nlci5cbiAgICogQHBhcmFtIHtzdHJpbmcgfCBJbkFwcEJyb3dzZXJPcHRpb25zfSBbb3B0aW9uc10gT3B0aW9ucyBmb3IgdGhlIEluQXBwQnJvd3Nlci4gT3B0aW9uYWwsIGRlZmF1bHRpbmcgdG86IGxvY2F0aW9uPXllcy5cbiAgICogICAgICAgICAgICAgICAgIFRoZSBvcHRpb25zIHN0cmluZyBtdXN0IG5vdCBjb250YWluIGFueSBibGFuayBzcGFjZSwgYW5kIGVhY2ggZmVhdHVyZSdzXG4gICAqICAgICAgICAgICAgICAgICBuYW1lL3ZhbHVlIHBhaXJzIG11c3QgYmUgc2VwYXJhdGVkIGJ5IGEgY29tbWEuIEZlYXR1cmUgbmFtZXMgYXJlIGNhc2UgaW5zZW5zaXRpdmUuXG4gICAqL1xuICBjb25zdHJ1Y3Rvcih1cmw6IHN0cmluZywgdGFyZ2V0Pzogc3RyaW5nLCBvcHRpb25zPzogc3RyaW5nIHwgSW5BcHBCcm93c2VyT3B0aW9ucykge1xuICAgIHRyeSB7XG4gICAgICBpZiAob3B0aW9ucyAmJiB0eXBlb2Ygb3B0aW9ucyAhPT0gJ3N0cmluZycpIHtcbiAgICAgICAgb3B0aW9ucyA9IE9iamVjdC5rZXlzKG9wdGlvbnMpXG4gICAgICAgICAgLm1hcCgoa2V5OiBzdHJpbmcpID0+IGAke2tleX09JHsob3B0aW9ucyBhcyBJbkFwcEJyb3dzZXJPcHRpb25zKVtrZXldfWApXG4gICAgICAgICAgLmpvaW4oJywnKTtcbiAgICAgIH1cblxuICAgICAgdGhpcy5fb2JqZWN0SW5zdGFuY2UgPSBjb3Jkb3ZhLkluQXBwQnJvd3Nlci5vcGVuKHVybCwgdGFyZ2V0LCBvcHRpb25zKTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgd2luZG93Lm9wZW4odXJsLCB0YXJnZXQpO1xuICAgICAgfVxuICAgICAgY29uc29sZS53YXJuKFxuICAgICAgICAnTmF0aXZlOiBJbkFwcEJyb3dzZXIgaXMgbm90IGluc3RhbGxlZCBvciB5b3UgYXJlIHJ1bm5pbmcgb24gYSBicm93c2VyLiBGYWxsaW5nIGJhY2sgdG8gd2luZG93Lm9wZW4uJ1xuICAgICAgKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogTWV0aG9kIHRvIGJlIGNhbGxlZCBhZnRlciB0aGUgXCJiZWZvcmVsb2FkXCIgZXZlbnQgdG8gY29udGludWUgdGhlIHNjcmlwdFxuICAgKiBAcGFyYW0gc3RyVXJsIHtTdHJpbmd9IFRoZSBVUkwgdGhlIEluQXBwQnJvd3NlciBzaG91bGQgbmF2aWdhdGUgdG8uXG4gICAqL1xuICBAQ29yZG92YUluc3RhbmNlKHsgc3luYzogdHJ1ZSB9KVxuICBfbG9hZEFmdGVyQmVmb3JlbG9hZChzdHJVcmw6IHN0cmluZyk6IHZvaWQge31cblxuICAvKipcbiAgICogRGlzcGxheXMgYW4gSW5BcHBCcm93c2VyIHdpbmRvdyB0aGF0IHdhcyBvcGVuZWQgaGlkZGVuLiBDYWxsaW5nIHRoaXMgaGFzIG5vIGVmZmVjdFxuICAgKiBpZiB0aGUgSW5BcHBCcm93c2VyIHdhcyBhbHJlYWR5IHZpc2libGUuXG4gICAqL1xuICBAQ29yZG92YUluc3RhbmNlKHsgc3luYzogdHJ1ZSB9KVxuICBzaG93KCk6IHZvaWQge31cblxuICAvKipcbiAgICogQ2xvc2VzIHRoZSBJbkFwcEJyb3dzZXIgd2luZG93LlxuICAgKi9cbiAgQENvcmRvdmFJbnN0YW5jZSh7IHN5bmM6IHRydWUgfSlcbiAgY2xvc2UoKTogdm9pZCB7fVxuXG4gIC8qKlxuICAgKiBIaWRlcyBhbiBJbkFwcEJyb3dzZXIgd2luZG93IHRoYXQgaXMgY3VycmVudGx5IHNob3duLiBDYWxsaW5nIHRoaXMgaGFzIG5vIGVmZmVjdFxuICAgKiBpZiB0aGUgSW5BcHBCcm93c2VyIHdhcyBhbHJlYWR5IGhpZGRlbi5cbiAgICovXG4gIEBDb3Jkb3ZhSW5zdGFuY2UoeyBzeW5jOiB0cnVlIH0pXG4gIGhpZGUoKTogdm9pZCB7fVxuXG4gIC8qKlxuICAgKiBJbmplY3RzIEphdmFTY3JpcHQgY29kZSBpbnRvIHRoZSBJbkFwcEJyb3dzZXIgd2luZG93LlxuICAgKiBAcGFyYW0gc2NyaXB0IHtPYmplY3R9IERldGFpbHMgb2YgdGhlIHNjcmlwdCB0byBydW4sIHNwZWNpZnlpbmcgZWl0aGVyIGEgZmlsZSBvciBjb2RlIGtleS5cbiAgICogQHJldHVybnMge1Byb21pc2U8YW55Pn1cbiAgICovXG4gIEBDb3Jkb3ZhSW5zdGFuY2UoKVxuICBleGVjdXRlU2NyaXB0KHNjcmlwdDogeyBmaWxlPzogc3RyaW5nOyBjb2RlPzogc3RyaW5nIH0pOiBQcm9taXNlPGFueT4ge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8qKlxuICAgKiBJbmplY3RzIENTUyBpbnRvIHRoZSBJbkFwcEJyb3dzZXIgd2luZG93LlxuICAgKiBAcGFyYW0gY3NzIHtPYmplY3R9IERldGFpbHMgb2YgdGhlIHNjcmlwdCB0byBydW4sIHNwZWNpZnlpbmcgZWl0aGVyIGEgZmlsZSBvciBjb2RlIGtleS5cbiAgICogQHJldHVybnMge1Byb21pc2U8YW55Pn1cbiAgICovXG4gIEBDb3Jkb3ZhSW5zdGFuY2UoKVxuICBpbnNlcnRDU1MoY3NzOiB7IGZpbGU/OiBzdHJpbmc7IGNvZGU/OiBzdHJpbmcgfSk6IFByb21pc2U8YW55PiB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgLyoqXG4gICAqIEEgbWV0aG9kIHRoYXQgYWxsb3dzIHlvdSB0byBsaXN0ZW4gdG8gZXZlbnRzIGhhcHBlbmluZyBpbiB0aGUgYnJvd3Nlci5cbiAgICogQHBhcmFtIGV2ZW50IHtJbkFwcEJyb3dzZXJFdmVudFR5cGV9IE5hbWUgb2YgdGhlIGV2ZW50XG4gICAqIEByZXR1cm5zIHtPYnNlcnZhYmxlPEluQXBwQnJvd3NlckV2ZW50Pn0gUmV0dXJucyBiYWNrIGFuIG9ic2VydmFibGUgdGhhdCB3aWxsIGxpc3RlbiB0byB0aGUgZXZlbnQgb24gc3Vic2NyaWJlLCBhbmQgd2lsbCBzdG9wIGxpc3RlbmluZyB0byB0aGUgZXZlbnQgb24gdW5zdWJzY3JpYmUuXG4gICAqL1xuICBASW5zdGFuY2VDaGVjaygpXG4gIG9uKGV2ZW50OiBJbkFwcEJyb3dzZXJFdmVudFR5cGUpOiBPYnNlcnZhYmxlPEluQXBwQnJvd3NlckV2ZW50PiB7XG4gICAgcmV0dXJuIG5ldyBPYnNlcnZhYmxlPEluQXBwQnJvd3NlckV2ZW50Pigob2JzZXJ2ZXI6IE9ic2VydmVyPEluQXBwQnJvd3NlckV2ZW50PikgPT4ge1xuICAgICAgdGhpcy5fb2JqZWN0SW5zdGFuY2UuYWRkRXZlbnRMaXN0ZW5lcihldmVudCwgb2JzZXJ2ZXIubmV4dC5iaW5kKG9ic2VydmVyKSk7XG4gICAgICByZXR1cm4gKCkgPT4gdGhpcy5fb2JqZWN0SW5zdGFuY2UucmVtb3ZlRXZlbnRMaXN0ZW5lcihldmVudCwgb2JzZXJ2ZXIubmV4dC5iaW5kKG9ic2VydmVyKSk7XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogQSBtZXRob2QgdGhhdCBhbGxvd3MgeW91IHRvIGxpc3RlbiB0byBldmVudHMgaGFwcGVuaW5nIGluIHRoZSBicm93c2VyLlxuICAgKiBAcGFyYW0gZXZlbnQge3N0cmluZ30gTmFtZSBvZiB0aGUgZXZlbnRcbiAgICogQHJldHVybnMge09ic2VydmFibGU8SW5BcHBCcm93c2VyRXZlbnQ+fSBSZXR1cm5zIGJhY2sgYW4gb2JzZXJ2YWJsZSB0aGF0IHdpbGwgbGlzdGVuIHRvIHRoZSBldmVudCBvbiBzdWJzY3JpYmUsIGFuZCB3aWxsIHN0b3AgbGlzdGVuaW5nIHRvIHRoZSBldmVudCBvbiB1bnN1YnNjcmliZS5cbiAgICovXG4gIEBJbnN0YW5jZUNoZWNrKClcbiAgb24oZXZlbnQ6IHN0cmluZyk6IE9ic2VydmFibGU8SW5BcHBCcm93c2VyRXZlbnQ+IHtcbiAgICByZXR1cm4gbmV3IE9ic2VydmFibGU8SW5BcHBCcm93c2VyRXZlbnQ+KChvYnNlcnZlcjogT2JzZXJ2ZXI8SW5BcHBCcm93c2VyRXZlbnQ+KSA9PiB7XG4gICAgICB0aGlzLl9vYmplY3RJbnN0YW5jZS5hZGRFdmVudExpc3RlbmVyKGV2ZW50LCBvYnNlcnZlci5uZXh0LmJpbmQob2JzZXJ2ZXIpKTtcbiAgICAgIHJldHVybiAoKSA9PiB0aGlzLl9vYmplY3RJbnN0YW5jZS5yZW1vdmVFdmVudExpc3RlbmVyKGV2ZW50LCBvYnNlcnZlci5uZXh0LmJpbmQob2JzZXJ2ZXIpKTtcbiAgICB9KTtcbiAgfVxufVxuXG4vKipcbiAqIEBuYW1lIEluIEFwcCBCcm93c2VyXG4gKiBAcHJlbWllciBpbmFwcGJyb3dzZXJcbiAqIEBkZXNjcmlwdGlvbiBMYXVuY2hlcyBpbiBhcHAgQnJvd3NlclxuICogQHVzYWdlXG4gKiBgYGB0eXBlc2NyaXB0XG4gKiBpbXBvcnQgeyBJbkFwcEJyb3dzZXIgfSBmcm9tICdAaW9uaWMtbmF0aXZlL2luLWFwcC1icm93c2VyL25neCc7XG4gKlxuICogY29uc3RydWN0b3IocHJpdmF0ZSBpYWI6IEluQXBwQnJvd3NlcikgeyB9XG4gKlxuICpcbiAqIC4uLlxuICpcbiAqXG4gKiBjb25zdCBicm93c2VyID0gdGhpcy5pYWIuY3JlYXRlKCdodHRwczovL2lvbmljZnJhbWV3b3JrLmNvbS8nKTtcbiAqXG4gKiBicm93c2VyLmV4ZWN1dGVTY3JpcHQoLi4uKTtcbiAqXG4gKiBicm93c2VyLmluc2VydENTUyguLi4pO1xuICogYnJvd3Nlci5vbignbG9hZHN0b3AnKS5zdWJzY3JpYmUoZXZlbnQgPT4ge1xuICogICAgYnJvd3Nlci5pbnNlcnRDU1MoeyBjb2RlOiBcImJvZHl7Y29sb3I6IHJlZDtcIiB9KTtcbiAqIH0pO1xuICpcbiAqIGJyb3dzZXIuY2xvc2UoKTtcbiAqXG4gKiBgYGBcbiAqIEBjbGFzc2VzXG4gKiBJbkFwcEJyb3dzZXJPYmplY3RcbiAqIEBpbnRlcmZhY2VzXG4gKiBJbkFwcEJyb3dzZXJFdmVudFxuICogSW5BcHBCcm93c2VyT3B0aW9uc1xuICovXG5AUGx1Z2luKHtcbiAgcGx1Z2luTmFtZTogJ0luQXBwQnJvd3NlcicsXG4gIHBsdWdpbjogJ2NvcmRvdmEtcGx1Z2luLWluYXBwYnJvd3NlcicsXG4gIHBsdWdpblJlZjogJ2NvcmRvdmEuSW5BcHBCcm93c2VyJyxcbiAgcmVwbzogJ2h0dHBzOi8vZ2l0aHViLmNvbS9hcGFjaGUvY29yZG92YS1wbHVnaW4taW5hcHBicm93c2VyJyxcbiAgcGxhdGZvcm1zOiBbJ0FtYXpvbkZpcmUgT1MnLCAnQW5kcm9pZCcsICdCcm93c2VyJywgJ2lPUycsICdtYWNPUycsICdXaW5kb3dzJ10sXG59KVxuQEluamVjdGFibGUoKVxuZXhwb3J0IGNsYXNzIEluQXBwQnJvd3NlciBleHRlbmRzIElvbmljTmF0aXZlUGx1Z2luIHtcbiAgLyoqXG4gICAqIE9wZW5zIGEgVVJMIGluIGEgbmV3IEluQXBwQnJvd3NlciBpbnN0YW5jZSwgdGhlIGN1cnJlbnQgYnJvd3NlciBpbnN0YW5jZSwgb3IgdGhlIHN5c3RlbSBicm93c2VyLlxuICAgKiBAcGFyYW0gIHVybCB7c3RyaW5nfSAgICAgVGhlIFVSTCB0byBsb2FkLlxuICAgKiBAcGFyYW0gIHRhcmdldCB7c3RyaW5nfSAgVGhlIHRhcmdldCBpbiB3aGljaCB0byBsb2FkIHRoZSBVUkwsIGFuIG9wdGlvbmFsIHBhcmFtZXRlciB0aGF0IGRlZmF1bHRzIHRvIF9zZWxmLlxuICAgKiBAcGFyYW0gIG9wdGlvbnMge3N0cmluZ30gT3B0aW9ucyBmb3IgdGhlIEluQXBwQnJvd3Nlci4gT3B0aW9uYWwsIGRlZmF1bHRpbmcgdG86IGxvY2F0aW9uPXllcy5cbiAgICogICAgICAgICAgICAgICAgIFRoZSBvcHRpb25zIHN0cmluZyBtdXN0IG5vdCBjb250YWluIGFueSBibGFuayBzcGFjZSwgYW5kIGVhY2ggZmVhdHVyZSdzXG4gICAqICAgICAgICAgICAgICAgICBuYW1lL3ZhbHVlIHBhaXJzIG11c3QgYmUgc2VwYXJhdGVkIGJ5IGEgY29tbWEuIEZlYXR1cmUgbmFtZXMgYXJlIGNhc2UgaW5zZW5zaXRpdmUuXG4gICAqIEByZXR1cm5zIHtJbkFwcEJyb3dzZXJPYmplY3R9XG4gICAqL1xuICBjcmVhdGUodXJsOiBzdHJpbmcsIHRhcmdldD86IHN0cmluZywgb3B0aW9ucz86IHN0cmluZyB8IEluQXBwQnJvd3Nlck9wdGlvbnMpOiBJbkFwcEJyb3dzZXJPYmplY3Qge1xuICAgIHJldHVybiBuZXcgSW5BcHBCcm93c2VyT2JqZWN0KHVybCwgdGFyZ2V0LCBvcHRpb25zKTtcbiAgfVxufVxuIl19","export default \"<ion-header>\\r\\n  <ion-toolbar color=\\\"primary\\\">\\r\\n\\r\\n    <ion-buttons slot=\\\"start\\\">\\r\\n      <ion-menu-button></ion-menu-button>\\r\\n      <ion-back-button></ion-back-button>\\r\\n    </ion-buttons>\\r\\n\\r\\n    <ion-title>Chi tiết ý tưởng</ion-title>\\r\\n\\r\\n  </ion-toolbar>\\r\\n</ion-header>\\r\\n\\r\\n<ion-content>\\r\\n\\r\\n  <!-- Hiển thị avatar -->\\r\\n  <ion-item lines=\\\"none\\\" class=\\\"idea-created\\\">\\r\\n    <ion-avatar slot=\\\"start\\\">\\r\\n      <img src=\\\"{{ideaInfo?.idea?.avatar}}\\\">\\r\\n    </ion-avatar>\\r\\n    <ion-label>\\r\\n      <strong>\\r\\n        {{ideaInfo?.idea?.username}}\\r\\n      </strong>\\r\\n      <br>\\r\\n      <ion-note>{{ideaInfo?.idea?.created_time | timeAgo}}</ion-note>\\r\\n    </ion-label>\\r\\n    <ion-button (click)=\\\"onClickMore($event)\\\" slot=\\\"end\\\" shape=\\\"round\\\" fill=\\\"clear\\\" size=\\\"small\\\">\\r\\n      <ion-icon slot=\\\"icon-only\\\" name=\\\"more\\\"></ion-icon>\\r\\n    </ion-button>\\r\\n  </ion-item>\\r\\n\\r\\n  <!-- Hiển thị thông tin chi tiết của ý tưởng -->\\r\\n  <ion-list>\\r\\n    <ion-item>\\r\\n      <strong slot=\\\"start\\\" *ngIf=\\\"!isMobile\\\">\\r\\n        Chủ đề:\\r\\n      </strong>\\r\\n      <ion-label class=\\\"ion-text-wrap\\\">\\r\\n        <strong slot=\\\"start\\\" *ngIf=\\\"isMobile\\\">\\r\\n          Chủ đề:<br>\\r\\n        </strong>\\r\\n        <strong>#{{ideaInfo?.idea?.id}}</strong> {{ideaInfo?.idea?.title}}\\r\\n      </ion-label>\\r\\n    </ion-item>\\r\\n    <ion-item>\\r\\n      <strong slot=\\\"start\\\" *ngIf=\\\"!isMobile\\\">\\r\\n        Nội dung:\\r\\n      </strong>\\r\\n      <ion-label class=\\\"ion-text-wrap\\\">\\r\\n        <strong slot=\\\"start\\\" *ngIf=\\\"isMobile\\\">\\r\\n          Nội dung:<br>\\r\\n        </strong>\\r\\n        <div [innerHTML]=\\\"ideaInfo?.idea?.description | linkUrl | newline\\\"></div>\\r\\n      </ion-label>\\r\\n    </ion-item>\\r\\n    <ion-item>\\r\\n      <strong slot=\\\"start\\\" *ngIf=\\\"!isMobile\\\">\\r\\n        Lĩnh vực:\\r\\n      </strong>\\r\\n      <ion-label class=\\\"ion-text-wrap\\\">\\r\\n        <strong slot=\\\"start\\\" *ngIf=\\\"isMobile\\\">\\r\\n          Lĩnh vực:<br>\\r\\n        </strong>\\r\\n        {{ideaInfo?.idea?.category_name}}\\r\\n      </ion-label>\\r\\n    </ion-item>\\r\\n    <ion-item>\\r\\n      <strong slot=\\\"start\\\" *ngIf=\\\"!isMobile\\\">\\r\\n        Giai đoạn:\\r\\n      </strong>\\r\\n      <ion-label class=\\\"ion-text-wrap\\\">\\r\\n        <strong slot=\\\"start\\\" *ngIf=\\\"isMobile\\\">\\r\\n          Giai đoạn:<br>\\r\\n        </strong>\\r\\n        {{ideaInfo?.idea?.status_name}}\\r\\n      </ion-label>\\r\\n    </ion-item>\\r\\n  </ion-list>\\r\\n\\r\\n\\r\\n  <ion-item lines=\\\"none\\\">\\r\\n\\r\\n    <!-- Hiện nút cho phép like ý tưởng -->\\r\\n    <ion-button slot=\\\"start\\\" color=\\\"{{(ideaInfo?.isUserVoted?'secondary':'light')}}\\\" (click)=\\\"likeIdea(ideaInfo?.idea)\\\"\\r\\n      shape=\\\"round\\\" size=\\\"small\\\">\\r\\n      <ion-icon slot=\\\"start\\\" name=\\\"thumbs-up\\\"></ion-icon>\\r\\n      {{ideaInfo?.idea?.voted_count}} <span *ngIf=\\\"!isMobile\\\">&nbsp;like(s)</span>\\r\\n    </ion-button>\\r\\n\\r\\n    <!-- Hiện nút để kích vào bình luận -->\\r\\n    <ion-button slot=\\\"start\\\" color=\\\"{{(ideaInfo?.isUserCommented?'success':'light')}}\\\" (click)=\\\"focusCommentIdea()\\\"\\r\\n      shape=\\\"round\\\" size=\\\"small\\\">\\r\\n      <ion-icon slot=\\\"start\\\" name=\\\"chatbubbles\\\"></ion-icon>\\r\\n      {{ideaInfo?.comments?.length}} <span *ngIf=\\\"!isMobile\\\">&nbsp;comment(s)</span>\\r\\n    </ion-button>\\r\\n\\r\\n    <!-- ý tưởng của mình thì hiện nút màu medium, của người khác thì hiện nút màu tertiary -->\\r\\n    <ion-button tappable slot=\\\"start\\\" color=\\\"{{(ideaInfo?.idea.user_id === this.userInfo.id?'medium':'tertiary')}}\\\"\\r\\n      (click)=\\\"markIdea(ideaInfo?.idea)\\\" shape=\\\"round\\\" size=\\\"small\\\">\\r\\n      <ion-icon slot=\\\"start\\\" name=\\\"switch\\\"></ion-icon>\\r\\n      {{ideaInfo?.idea?.total_point}} <span *ngIf=\\\"!isMobile\\\">&nbsp;điểm</span>\\r\\n    </ion-button>\\r\\n\\r\\n    <!-- Hiện số file đính kèm -->\\r\\n    <ion-label *ngIf=\\\"ideaInfo?.idea?.attach_id_list?.length>0\\\" class=\\\"ion-text-wrap\\\">\\r\\n      <ion-icon slot=\\\"start\\\" name=\\\"attach\\\"></ion-icon>\\r\\n      {{ideaInfo.idea.attach_id_list.length}}<span *ngIf=\\\"!isMobile\\\">&nbsp;File(s) đính kèm</span>\\r\\n    </ion-label>\\r\\n\\r\\n  </ion-item>\\r\\n\\r\\n  <!-- Hiển thị nội dung file và image đính kèm của ý tưởng -->\\r\\n  <div [style.padding-left]=\\\"'20px'\\\">\\r\\n    <img tappable *ngFor=\\\"let image of ideaInfo?.idea?.images;\\\" src=\\\"{{image.src}}\\\" (click)=\\\"onClickViewItem(image.id)\\\"\\r\\n      class=\\\"image-comment-size\\\">\\r\\n  </div>\\r\\n  <ion-item [style.padding-left]=\\\"'20px'\\\" *ngIf=\\\"ideaInfo?.idea?.attachs?.length>0\\\" lines=\\\"none\\\">\\r\\n    <ion-label class=\\\"ion-text-wrap\\\">\\r\\n      <span *ngFor=\\\"let file of ideaInfo?.idea?.attachs;\\\">\\r\\n        <ion-button color=\\\"primary\\\" (click)=\\\"onClickViewItem(file.id)\\\" fill=\\\"outline\\\" shape=\\\"round\\\"\\r\\n          style=\\\"text-transform:none\\\">\\r\\n          {{file.file_name}}\\r\\n          <ion-icon slot=\\\"end\\\" name=\\\"eye\\\"></ion-icon>\\r\\n        </ion-button>\\r\\n      </span>\\r\\n    </ion-label>\\r\\n  </ion-item>\\r\\n\\r\\n\\r\\n  <!-- Nhập nội dung comment để góp ý ở ô này -->\\r\\n  <ion-card class=\\\"input-comment\\\">\\r\\n    <!-- Hiện thị form để comment -->\\r\\n    <ion-item lines=\\\"none\\\">\\r\\n      <ion-avatar slot=\\\"start\\\">\\r\\n        <img src=\\\"{{userInfo?.avatar}}\\\">\\r\\n      </ion-avatar>\\r\\n      <ion-textarea #textComment autosize type=\\\"text\\\" placeholder=\\\"Đóng góp ý kiến ... \\\" [(ngModel)]=\\\"message\\\">\\r\\n      </ion-textarea>\\r\\n      <ion-button color=\\\"medium\\\" fill=\\\"clear\\\" shape=\\\"round\\\">\\r\\n        <input class=\\\"file-over\\\" type=\\\"file\\\" multiple=\\\"multiple\\\" (change)=\\\"uploadFilesEvent($event)\\\" accept=\\\"image/gif, image/jpeg, image/png\\r\\n                  , application/pdf\\r\\n                  , .txt, .md\\r\\n                  , .csv, application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, application/vnd.ms-excel\\r\\n                  , application/msword, application/vnd.openxmlformats-officedocument.wordprocessingml.document\\\" />\\r\\n        <ion-icon slot=\\\"icon-only\\\" name=\\\"attach\\\"></ion-icon>\\r\\n      </ion-button>\\r\\n      <ion-button color=\\\"{{(message||uploadingFiles.length>0?'secondary':'light')}}\\\" (click)=\\\"onClickSend()\\\"\\r\\n        fill=\\\"clear\\\" shape=\\\"round\\\">\\r\\n        <ion-icon slot=\\\"icon-only\\\" name=\\\"send\\\"></ion-icon>\\r\\n      </ion-button>\\r\\n    </ion-item>\\r\\n    <!-- Hiển thị những file, hình ảnh kèm theo trong commment -->\\r\\n    <ion-item *ngIf=\\\"uploadingFiles?.length>0\\\" lines=\\\"none\\\">\\r\\n      <ion-label class=\\\"ion-text-wrap\\\">\\r\\n        <span *ngFor=\\\"let file of uploadingFiles; let idx=index;\\\">\\r\\n          <ion-button *ngIf=\\\"!file.isImage\\\" color=\\\"secondary\\\" (click)=\\\"onClickRemoveFile(idx)\\\" fill=\\\"outline\\\"\\r\\n            shape=\\\"round\\\" style=\\\"text-transform:none\\\">\\r\\n            {{file.name}}\\r\\n            <ion-icon slot=\\\"end\\\" name=\\\"close\\\"></ion-icon>\\r\\n          </ion-button>\\r\\n          <div *ngIf=\\\"file.isImage\\\" class=\\\"image-upload-size\\\">\\r\\n            <img src=\\\"{{file.image}}\\\">\\r\\n            <div class='close-button' tappable>\\r\\n              <ion-icon slot=\\\"icon-only\\\" name=\\\"close\\\" color=\\\"medium\\\" (click)=\\\"onClickRemoveFile(idx)\\\"></ion-icon>\\r\\n            </div>\\r\\n          </div>\\r\\n        </span>\\r\\n      </ion-label>\\r\\n    </ion-item>\\r\\n  </ion-card>\\r\\n\\r\\n  <!-- Lịch sử góp ý hiển thị theo hình cây ở dưới đây -->\\r\\n  <ion-list class=\\\"comment-list\\\">\\r\\n    <div *ngFor=\\\"let comment of ideaInfo?.comments\\\" [style.padding-left]=\\\"comment.parent_id?'20px':'0px'\\\">\\r\\n      <ion-item lines=\\\"none\\\">\\r\\n        <ion-avatar slot=\\\"start\\\" tappable (click)=\\\"onViewUserPage(comment)\\\">\\r\\n          <img src=\\\"{{comment.avatar}}\\\">\\r\\n        </ion-avatar>\\r\\n        <ion-label class=\\\"ion-text-wrap comment-backgound\\\">\\r\\n          <strong slot=\\\"start\\\">\\r\\n            {{comment.username}}\\r\\n          </strong>\\r\\n          <br>\\r\\n          <ion-label class=\\\"ion-text-wrap\\\">\\r\\n            <div [innerHTML]=\\\"comment.content| linkUrl | newline | safe\\\"></div>\\r\\n          </ion-label>\\r\\n        </ion-label>\\r\\n      </ion-item>\\r\\n      <ion-note [style.padding-left]=\\\"comment.parent_id?'100px':'80px'\\\"> {{comment.created_time | timeAgo}} </ion-note>\\r\\n      <br>\\r\\n      <div [style.padding-left]=\\\"comment.parent_id?'80px':'60px'\\\">\\r\\n        <img tappable *ngFor=\\\"let image of comment.images;\\\" src=\\\"{{image.src}}\\\" (click)=\\\"onClickViewImage(image.id)\\\"\\r\\n          class=\\\"image-comment-size\\\">\\r\\n      </div>\\r\\n      <ion-item [style.padding-left]=\\\"comment.parent_id?'80px':'60px'\\\" *ngIf=\\\"comment.attachs?.length>0\\\" lines=\\\"none\\\">\\r\\n        <ion-label class=\\\"ion-text-wrap\\\">\\r\\n          <span *ngFor=\\\"let file of comment.attachs; let idx=index;\\\">\\r\\n            <ion-button color=\\\"dark\\\" (click)=\\\"onClickViewFile(file.id)\\\" fill=\\\"outline\\\" shape=\\\"round\\\"\\r\\n              style=\\\"text-transform:none\\\">\\r\\n              {{file.file_name}}\\r\\n              <ion-icon slot=\\\"end\\\" name=\\\"eye\\\"></ion-icon>\\r\\n            </ion-button>\\r\\n          </span>\\r\\n        </ion-label>\\r\\n      </ion-item>\\r\\n    </div>\\r\\n  </ion-list>\\r\\n\\r\\n</ion-content>\"","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { IdeaDetailPage } from './idea-detail.page';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: IdeaDetailPage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule],\r\n})\r\nexport class IdeaDetailPageRoutingModule {}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\nimport { InAppBrowser } from '@ionic-native/in-app-browser/ngx';\r\n\r\nimport { IdeaDetailPageRoutingModule } from './idea-detail-routing.module';\r\n\r\nimport { IdeaDetailPage } from './idea-detail.page';\r\nimport { SharedModule } from 'src/app/shared.module';\r\nimport { Ngxi4DynamicServiceModule } from 'ngxi4-dynamic-service';\r\nimport { LinkUrlPipe } from './link.url.pipe';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    Ngxi4DynamicServiceModule,\r\n    SharedModule,\r\n    IdeaDetailPageRoutingModule\r\n  ],\r\n  declarations: [IdeaDetailPage, LinkUrlPipe],\r\n  providers: [InAppBrowser]\r\n})\r\nexport class IdeaDetailPageModule {}\r\n","export default \".file-over {\\n  position: absolute;\\n  top: 0;\\n  left: 0;\\n  z-index: 2;\\n  width: 100%;\\n  height: 100%;\\n  opacity: 0;\\n  cursor: pointer;\\n}\\n\\n.idea-created {\\n  border-radius: 2em;\\n  opacity: 0.9;\\n  margin: 5px;\\n  border-style: solid;\\n  border-color: gray;\\n  border-width: 1px;\\n}\\n\\n.input-comment {\\n  border-radius: 2em;\\n  opacity: 0.9;\\n  margin: 15px;\\n  border-style: solid;\\n  border-color: green;\\n  border-width: 1px;\\n  box-shadow: 0px 3px 10px rgba(0, 0, 0, 0.5);\\n}\\n\\n.comment-backgound {\\n  position: relative;\\n  border-radius: 1em;\\n  opacity: 0.9;\\n  padding: 8px;\\n  background: whitesmoke;\\n}\\n\\n.comment-list {\\n  margin: 15px;\\n}\\n\\n.image-comment-size {\\n  max-width: 200px;\\n  margin: 2px;\\n  border-radius: 0.5em;\\n  border-style: solid;\\n  border-color: black;\\n  border-width: 1px;\\n}\\n\\n.image-upload-size {\\n  position: relative;\\n  max-width: 200px;\\n  margin: 2px;\\n  padding: 3px;\\n  border-radius: 0.5em;\\n  border-style: solid;\\n  border-color: black;\\n  border-width: 1px;\\n}\\n\\n.image-upload-size .close-button {\\n  position: absolute;\\n  top: 2%;\\n  left: 80%;\\n  font-size: 30px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvaWRlYS1lbnRyeS9pZGVhLWRldGFpbC9EOlxcRElOSE5WXFxNeURhdGFcXExBUFRSSU5IXFxOT0RFNFxcbm9kZTQtaW5vdmF0aW9uXFxjbGllbnQvc3JjXFxhcHBcXGlkZWEtZW50cnlcXGlkZWEtZGV0YWlsXFxpZGVhLWRldGFpbC5wYWdlLnNjc3MiLCJzcmMvYXBwL2lkZWEtZW50cnkvaWRlYS1kZXRhaWwvaWRlYS1kZXRhaWwucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0ksa0JBQUE7RUFDQSxNQUFBO0VBQ0EsT0FBQTtFQUNBLFVBQUE7RUFDQSxXQUFBO0VBQ0EsWUFBQTtFQUNBLFVBQUE7RUFDQSxlQUFBO0FDQ0o7O0FERUE7RUFDSSxrQkFBQTtFQUNBLFlBQUE7RUFDQSxXQUFBO0VBQ0EsbUJBQUE7RUFDQSxrQkFBQTtFQUNBLGlCQUFBO0FDQ0o7O0FEQ0E7RUFFSSxrQkFBQTtFQUNBLFlBQUE7RUFDQSxZQUFBO0VBQ0EsbUJBQUE7RUFDQSxtQkFBQTtFQUNBLGlCQUFBO0VBQ0EsMkNBQUE7QUNDSjs7QURDQTtFQUNJLGtCQUFBO0VBQ0Esa0JBQUE7RUFDQSxZQUFBO0VBQ0EsWUFBQTtFQUNBLHNCQUFBO0FDRUo7O0FEQ0E7RUFDSSxZQUFBO0FDRUo7O0FEQ0E7RUFDSSxnQkFBQTtFQUNBLFdBQUE7RUFDQSxvQkFBQTtFQUNBLG1CQUFBO0VBQ0EsbUJBQUE7RUFDQSxpQkFBQTtBQ0VKOztBRENBO0VBQ0ksa0JBQUE7RUFDQSxnQkFBQTtFQUNBLFdBQUE7RUFDQSxZQUFBO0VBQ0Esb0JBQUE7RUFDQSxtQkFBQTtFQUNBLG1CQUFBO0VBQ0EsaUJBQUE7QUNFSjs7QURDQTtFQUNJLGtCQUFBO0VBQ0EsT0FBQTtFQUNBLFNBQUE7RUFDQSxlQUFBO0FDRUoiLCJmaWxlIjoic3JjL2FwcC9pZGVhLWVudHJ5L2lkZWEtZGV0YWlsL2lkZWEtZGV0YWlsLnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi5maWxlLW92ZXIge1xyXG4gICAgcG9zaXRpb246IGFic29sdXRlO1xyXG4gICAgdG9wOiAwO1xyXG4gICAgbGVmdDogMDtcclxuICAgIHotaW5kZXg6IDI7XHJcbiAgICB3aWR0aDogMTAwJTtcclxuICAgIGhlaWdodDogMTAwJTtcclxuICAgIG9wYWNpdHk6IDA7XHJcbiAgICBjdXJzb3I6IHBvaW50ZXI7XHJcbn1cclxuXHJcbi5pZGVhLWNyZWF0ZWR7XHJcbiAgICBib3JkZXItcmFkaXVzOiAyZW07XHJcbiAgICBvcGFjaXR5OiAwLjk7XHJcbiAgICBtYXJnaW46IDVweDtcclxuICAgIGJvcmRlci1zdHlsZTogc29saWQ7XHJcbiAgICBib3JkZXItY29sb3I6IGdyYXk7XHJcbiAgICBib3JkZXItd2lkdGg6IDFweDtcclxufVxyXG4uaW5wdXQtY29tbWVudHtcclxuICAgIC8vIHBvc2l0aW9uOiByZWxhdGl2ZTtcclxuICAgIGJvcmRlci1yYWRpdXM6IDJlbTtcclxuICAgIG9wYWNpdHk6IDAuOTtcclxuICAgIG1hcmdpbjogMTVweDtcclxuICAgIGJvcmRlci1zdHlsZTogc29saWQ7XHJcbiAgICBib3JkZXItY29sb3I6IGdyZWVuO1xyXG4gICAgYm9yZGVyLXdpZHRoOiAxcHg7XHJcbiAgICBib3gtc2hhZG93OiAwcHggM3B4IDEwcHggcmdiYSgwLCAwLCAwLCAwLjUpO1xyXG59XHJcbi5jb21tZW50LWJhY2tnb3VuZHtcclxuICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcclxuICAgIGJvcmRlci1yYWRpdXM6IDFlbTtcclxuICAgIG9wYWNpdHk6IDAuOTtcclxuICAgIHBhZGRpbmc6IDhweDtcclxuICAgIGJhY2tncm91bmQ6IHdoaXRlc21va2U7XHJcbn1cclxuXHJcbi5jb21tZW50LWxpc3R7XHJcbiAgICBtYXJnaW46IDE1cHg7XHJcbn1cclxuXHJcbi5pbWFnZS1jb21tZW50LXNpemV7XHJcbiAgICBtYXgtd2lkdGg6IDIwMHB4O1xyXG4gICAgbWFyZ2luOiAycHg7XHJcbiAgICBib3JkZXItcmFkaXVzOiAwLjVlbTtcclxuICAgIGJvcmRlci1zdHlsZTogc29saWQ7XHJcbiAgICBib3JkZXItY29sb3I6YmxhY2s7XHJcbiAgICBib3JkZXItd2lkdGg6IDFweDtcclxufVxyXG5cclxuLmltYWdlLXVwbG9hZC1zaXple1xyXG4gICAgcG9zaXRpb246IHJlbGF0aXZlO1xyXG4gICAgbWF4LXdpZHRoOiAyMDBweDtcclxuICAgIG1hcmdpbjogMnB4O1xyXG4gICAgcGFkZGluZzogM3B4O1xyXG4gICAgYm9yZGVyLXJhZGl1czogMC41ZW07XHJcbiAgICBib3JkZXItc3R5bGU6IHNvbGlkO1xyXG4gICAgYm9yZGVyLWNvbG9yOiBibGFjaztcclxuICAgIGJvcmRlci13aWR0aDogMXB4O1xyXG59XHJcblxyXG4uaW1hZ2UtdXBsb2FkLXNpemUgLmNsb3NlLWJ1dHRvbiB7XHJcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XHJcbiAgICB0b3A6IDIlO1xyXG4gICAgbGVmdDogODAlO1xyXG4gICAgZm9udC1zaXplOiAzMHB4O1xyXG59IiwiLmZpbGUtb3ZlciB7XG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgdG9wOiAwO1xuICBsZWZ0OiAwO1xuICB6LWluZGV4OiAyO1xuICB3aWR0aDogMTAwJTtcbiAgaGVpZ2h0OiAxMDAlO1xuICBvcGFjaXR5OiAwO1xuICBjdXJzb3I6IHBvaW50ZXI7XG59XG5cbi5pZGVhLWNyZWF0ZWQge1xuICBib3JkZXItcmFkaXVzOiAyZW07XG4gIG9wYWNpdHk6IDAuOTtcbiAgbWFyZ2luOiA1cHg7XG4gIGJvcmRlci1zdHlsZTogc29saWQ7XG4gIGJvcmRlci1jb2xvcjogZ3JheTtcbiAgYm9yZGVyLXdpZHRoOiAxcHg7XG59XG5cbi5pbnB1dC1jb21tZW50IHtcbiAgYm9yZGVyLXJhZGl1czogMmVtO1xuICBvcGFjaXR5OiAwLjk7XG4gIG1hcmdpbjogMTVweDtcbiAgYm9yZGVyLXN0eWxlOiBzb2xpZDtcbiAgYm9yZGVyLWNvbG9yOiBncmVlbjtcbiAgYm9yZGVyLXdpZHRoOiAxcHg7XG4gIGJveC1zaGFkb3c6IDBweCAzcHggMTBweCByZ2JhKDAsIDAsIDAsIDAuNSk7XG59XG5cbi5jb21tZW50LWJhY2tnb3VuZCB7XG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgYm9yZGVyLXJhZGl1czogMWVtO1xuICBvcGFjaXR5OiAwLjk7XG4gIHBhZGRpbmc6IDhweDtcbiAgYmFja2dyb3VuZDogd2hpdGVzbW9rZTtcbn1cblxuLmNvbW1lbnQtbGlzdCB7XG4gIG1hcmdpbjogMTVweDtcbn1cblxuLmltYWdlLWNvbW1lbnQtc2l6ZSB7XG4gIG1heC13aWR0aDogMjAwcHg7XG4gIG1hcmdpbjogMnB4O1xuICBib3JkZXItcmFkaXVzOiAwLjVlbTtcbiAgYm9yZGVyLXN0eWxlOiBzb2xpZDtcbiAgYm9yZGVyLWNvbG9yOiBibGFjaztcbiAgYm9yZGVyLXdpZHRoOiAxcHg7XG59XG5cbi5pbWFnZS11cGxvYWQtc2l6ZSB7XG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgbWF4LXdpZHRoOiAyMDBweDtcbiAgbWFyZ2luOiAycHg7XG4gIHBhZGRpbmc6IDNweDtcbiAgYm9yZGVyLXJhZGl1czogMC41ZW07XG4gIGJvcmRlci1zdHlsZTogc29saWQ7XG4gIGJvcmRlci1jb2xvcjogYmxhY2s7XG4gIGJvcmRlci13aWR0aDogMXB4O1xufVxuXG4uaW1hZ2UtdXBsb2FkLXNpemUgLmNsb3NlLWJ1dHRvbiB7XG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgdG9wOiAyJTtcbiAgbGVmdDogODAlO1xuICBmb250LXNpemU6IDMwcHg7XG59Il19 */\"","import { Component, OnInit, ViewChild } from '@angular/core';\r\nimport { ActivatedRoute } from '@angular/router';\r\nimport { AuthService, CommonsService, PopoverCardComponent, DynamicFormMobilePage } from 'ngxi4-dynamic-service';\r\nimport { MainService } from 'src/app/services/main.service';\r\n\r\nimport { InAppBrowser } from '@ionic-native/in-app-browser/ngx';\r\nimport { IonTextarea } from '@ionic/angular';\r\n\r\n@Component({\r\n  selector: 'app-idea-detail',\r\n  templateUrl: './idea-detail.page.html',\r\n  styleUrls: ['./idea-detail.page.scss'],\r\n})\r\nexport class IdeaDetailPage implements OnInit {\r\n\r\n  // khai báo biến để focus vào ô nhập liệu\r\n  @ViewChild('textComment', { static: false }) textAreaElement: IonTextarea;\r\n  userInfo: any;\r\n  ideaInfo: any;\r\n  message: string;\r\n\r\n  uploadingFiles: any = [];\r\n  isMobile: boolean = false;\r\n\r\n  constructor(\r\n    private route: ActivatedRoute\r\n    , private apiCommons: CommonsService\r\n    , private apiAuth: AuthService\r\n    , private mainService: MainService\r\n    , private iab: InAppBrowser\r\n  ) { this.init() }\r\n\r\n  ngOnInit() {\r\n    this.route.queryParams.subscribe(item => {\r\n      // console.log('item', item);\r\n      // đọc chi tiết để hiển thị nội dung chi tiết ra\r\n      this.refresh(item.id)\r\n    });\r\n  }\r\n\r\n  init() {\r\n    this.isMobile = this.apiCommons.isMobile();\r\n    this.userInfo = this.mainService.getUserInfo();\r\n  }\r\n\r\n  // lấy ý tưởng theo id\r\n  refresh(id) {\r\n    this.apiAuth.getDynamicUrl(this.apiAuth.serviceUrls.RESOURCE_SERVER + '/get-idea?id=' + id, true)\r\n      .then(ideaDetail => {\r\n        this.ideaInfo = ideaDetail\r\n        this.refreshUserAction()\r\n        // console.log(this.ideaInfo);\r\n      })\r\n      .catch(err => console.log('Lỗi lấy chi tiết', err))\r\n  }\r\n\r\n  // Lấy file cho ý tưởng và comment\r\n  // Kiểm tra userInfo này đã like, comment hoặc chấm điểm chưa?\r\n  refreshUserAction() {\r\n    if (this.ideaInfo && this.ideaInfo.likes && this.ideaInfo.comments) {\r\n\r\n      //Lấy các file cho ý tưởng\r\n      if (this.ideaInfo.idea && this.ideaInfo.idea.attach_id_list) {\r\n        // thực hiện truy vấn lấy danh sách file đính kèm\r\n        this.apiAuth.getDynamicUrl(this.apiAuth.serviceUrls.RESOURCE_SERVER + '/get-attach-files?id_list=' + JSON.stringify(this.ideaInfo.idea.attach_id_list), true)\r\n          .then(list => {\r\n\r\n            if (list && Array.isArray(list.images)) {\r\n              this.ideaInfo.idea.images = list.images;\r\n              this.ideaInfo.idea.images.forEach(file => file.src = this.apiAuth.serviceUrls.RESOURCE_SERVER + \"/get-file-id?id=\" + file.id)\r\n            }\r\n\r\n            if (list && Array.isArray(list.files)) {\r\n              this.ideaInfo.idea.attachs = list.files;\r\n            }\r\n\r\n          })\r\n          .catch(err => {\r\n            console.log('Lỗi lấy file: ', err);\r\n          });\r\n\r\n      }\r\n      // Kiểm tra this.userInfo này đã like ý tưởng này chưa?\r\n      this.ideaInfo.isUserVoted = this.ideaInfo.likes.findIndex(x => x.user_id === this.userInfo.id && x.activities_type > 0) >= 0\r\n      // Kiểm tra this.userInfo này đã comment ý tưởng này chưa?\r\n      this.ideaInfo.isUserCommented = this.ideaInfo.comments.findIndex(x => x.user_id === this.userInfo.id) >= 0\r\n      //Kiểm tra this.userInfo này đã chấm điểm ý tưởng này chưa?\r\n      this.ideaInfo.isUserMarked = this.ideaInfo.marks.findIndex(x => x.user_id === this.userInfo.id) >= 0\r\n      //Lấy các file cho các bình luận\r\n      this.ideaInfo.comments.forEach(el => {\r\n        if (el.attach_id_list) {\r\n          // thực hiện truy vấn lấy danh sách file đính kèm - tên file, kiểu file, id để hiển thị ra\r\n          this.apiAuth.getDynamicUrl(this.apiAuth.serviceUrls.RESOURCE_SERVER + '/get-attach-files?id_list=' + JSON.stringify(el.attach_id_list), true)\r\n            .then(list => {\r\n\r\n              if (list && Array.isArray(list.images)) {\r\n                el.images = list.images;\r\n                el.images.forEach(file => file.src = this.apiAuth.serviceUrls.RESOURCE_SERVER + \"/get-file-id?id=\" + file.id)\r\n              }\r\n\r\n              if (list && Array.isArray(list.files)) {\r\n                el.attachs = list.files;\r\n              }\r\n\r\n            })\r\n            .catch(err => {\r\n              console.log('Lỗi lấy file: ', err);\r\n            });\r\n        }\r\n      })\r\n    }\r\n  }\r\n\r\n  // focus đến ô comments\r\n  focusCommentIdea() {\r\n    this.textAreaElement.setFocus();\r\n  }\r\n\r\n  // Bấm vào nút more \r\n  onClickMore(ev) {\r\n\r\n    /* kiểm tra quyền của userInfo mà hiển thị menu khác nhau\r\n    + nếu user không thuộc ý tưởng, thì có quyền chấm điểm cho ý tưởng này\r\n    + nếu là ý tưởng thuộc user thì cho phép sửa nội dung, chuyển trạng thái */\r\n\r\n    // cụ thể như sau: Nếu role là\r\n    /*\r\n      1\tUser thường\tUser  -- hiển thị mỗi một menu chấm điểm (nếu không phải ý tưởng của mình)\r\n                          -- Hoặc menu sửa ý tưởng, chuyển trạng thái (nếu là ý tưởng của mình)\r\n      \r\n      99\tDevelopper\tNgười phát triển -- hiển thị hết menu\r\n     */\r\n\r\n    let settingsMenu = [];\r\n    // menu đầy đủ\r\n    // trường hợp nào thì sẽ xóa bỏ menu tương ứng\r\n    const allMenu = [\r\n      // Cho tất cả mọi người trừ userInfo==idea\r\n      {\r\n        id: 1\r\n        , name: \"Chấm điểm ý tưởng này\"\r\n        , value: \"MARK\"\r\n        , icon: {\r\n          name: \"microphone\"\r\n          , color: \"warning\"\r\n        }\r\n      }\r\n      ,\r\n      //Chỉnh sửa ý tưởng (cho user_id của ý tưởng đó)\r\n      {\r\n        id: 2\r\n        , name: \"Sửa ý tưởng này\"\r\n        , value: \"EDIT\"\r\n        , icon: {\r\n          name: \"create\"\r\n          , color: \"primary\"\r\n        }\r\n      }\r\n      ,\r\n      // chỉ cho admin 99, và user_id của ý tưởng trùng với nó\r\n      {\r\n        id: 3\r\n        , name: \"Chuyển trạng thái\"\r\n        , value: \"CHANGE\"\r\n        , icon: {\r\n          name: \"hourglass\"\r\n          , color: \"primary\"\r\n        }\r\n      }\r\n      ,\r\n      // chỉ cho admin 99\r\n      {\r\n        id: 4\r\n        , name: \"Xóa ý tưởng này\"\r\n        , value: \"TRASH\"\r\n        , icon: {\r\n          name: \"trash\"\r\n          , color: \"danger\"\r\n        }\r\n      }\r\n    ]\r\n\r\n    if (this.userInfo && this.ideaInfo && this.ideaInfo.idea) {\r\n      //user_id của ý tưởng trùng với id của userInfo\r\n      if (this.ideaInfo.idea.user_id === this.userInfo.id) {\r\n        // cho phép sửa hoặc chuyển trạng thái\r\n        settingsMenu = allMenu.filter(x => x.id === 2 || x.id === 3)\r\n      } else {\r\n        // chỉ cho phép chấm điểm\r\n        settingsMenu = allMenu.filter(x => x.id === 1)\r\n      }\r\n\r\n      // Nếu là admin thì phân quyền như sau:\r\n      if (this.userInfo.role === 99) {\r\n        // Nếu là ý tưởng của admin thì không có quyền chấm điểm\r\n        if (this.ideaInfo.idea.user_id === this.userInfo.id) {\r\n          settingsMenu = allMenu.filter(x => x.id !== 1)\r\n        } else {\r\n          // toàn quyền\r\n          settingsMenu = allMenu\r\n        }\r\n      }\r\n    }\r\n\r\n    this.apiCommons.presentPopover(\r\n      ev, PopoverCardComponent\r\n      , {\r\n        type: 'single-choice',\r\n        title: \"Chọn chức năng\",\r\n        color: \"primary\",\r\n        menu: settingsMenu\r\n      })\r\n      .then(data => {\r\n        this.processDetails(data);\r\n      })\r\n      .catch(err => {\r\n        console.log('err: ', err);\r\n      });\r\n  }\r\n\r\n  // Thực thi lệnh khi chọn nút more\r\n  processDetails(data: any) {\r\n    let cmd = data.value;\r\n    // console.log('lenh', cmd);\r\n    if (this.ideaInfo && this.ideaInfo.idea) {\r\n      if (cmd === 'MARK') {\r\n        // gọi form chấm điểm\r\n        this.markIdea(this.ideaInfo.idea)\r\n      } else if (cmd === 'EDIT') {\r\n        //  sửa ý tưởng này\r\n        this.editIdea(this.ideaInfo.idea)\r\n      } else if (cmd === 'CHANGE') {\r\n        //  thay đổi trạng thái ý tưởng\r\n        this.changeStatusIdea(this.ideaInfo.idea)\r\n      } else if (cmd === 'TRASH') {\r\n        //  loại bỏ ý tưởng này\r\n        this.trashIdea(this.ideaInfo.idea)\r\n      }\r\n    }\r\n  }\r\n\r\n  // Người dùng bấm nút like\r\n  likeIdea(item) {\r\n    this.apiAuth.postDynamicJson(this.apiAuth.serviceUrls.RESOURCE_SERVER + '/like-idea', { id: item.id }, true)\r\n      .then(idea => {\r\n        // console.log(idea);\r\n        this.ideaInfo = idea; // lấy lại nội dung này\r\n        this.refreshUserAction()\r\n      })\r\n      .catch(err => console.log(err))\r\n  }\r\n\r\n  // Sự kiện người dùng chọn file để upload khi comment\r\n  uploadFilesEvent(evt) {\r\n    if (!evt.target || !evt.target.files || !evt.target.files.length) return\r\n    for (let file of evt.target.files) {\r\n      if (file.type.indexOf('image') >= 0) {\r\n        file.isImage = true;\r\n        const fr = new FileReader();\r\n        fr.onloadend = () => {\r\n          file.image = fr.result;\r\n        };\r\n        fr.readAsDataURL(file);\r\n      }\r\n      if (!this.uploadingFiles.find(x => x.name === file.name))\r\n        this.uploadingFiles.push(file)\r\n    }\r\n    // console.log(this.uploadingFiles);\r\n  }\r\n\r\n  //Xóa file đã chọn\r\n  onClickRemoveFile(idx) {\r\n    this.uploadingFiles.splice(idx, 1);\r\n  }\r\n\r\n  // hiển thị file hoặc ảnh ra\r\n  onClickViewItem(fileId) {\r\n    this.iab.create(this.apiAuth.serviceUrls.RESOURCE_SERVER + \"/get-file-id?id=\" + fileId, `_system`);\r\n  }\r\n\r\n  // Gửi nội dung comment đi\r\n  onClickSend() {\r\n    if (this.message || this.uploadingFiles.length > 0) {\r\n\r\n      this.apiCommons.showLoader('Đang xử lý dữ liệu trên máy chủ...')\r\n\r\n      let form_data: FormData = new FormData();\r\n      form_data.append(\"id\", this.ideaInfo.idea.id);\r\n      form_data.append(\"content\", this.message ? this.message : this.uploadingFiles.length + ' file(s)');\r\n      let i = 0;\r\n      for (let file of this.uploadingFiles) {\r\n        form_data.append('file_' + i++, file, file.filename);\r\n      }\r\n      this.apiAuth.postDynamicFormData(this.apiAuth.serviceUrls.RESOURCE_SERVER + '/comment-idea'\r\n        , form_data, true)\r\n        .then(idea => {\r\n          this.apiCommons.hideLoader();\r\n          this.ideaInfo = idea; // lấy lại nội dung này\r\n          this.refreshUserAction()\r\n        })\r\n        .catch(err => {\r\n          this.apiCommons.hideLoader();\r\n          // console.log('Lỗi: ', err);\r\n        });\r\n\r\n      this.message = '';\r\n      this.uploadingFiles = [];\r\n    }\r\n  }\r\n\r\n  // chấm điểm ý tưởng này theo các tiêu chí định nghĩa\r\n  async markIdea(idea) {\r\n\r\n    if (this.ideaInfo.idea.user_id === this.userInfo.id) {\r\n      this.apiCommons.showToast('Bạn không tự chấm điểm cho mình được!', 2000, 'warning', 'middle')\r\n      return\r\n    }\r\n\r\n    let questions;\r\n    let userMarkIdea;\r\n    try {\r\n      questions = await this.apiAuth.getDynamicUrl(this.apiAuth.serviceUrls.RESOURCE_SERVER + '/get-questions', true)\r\n      userMarkIdea = await this.apiAuth.getDynamicUrl(this.apiAuth.serviceUrls.RESOURCE_SERVER + '/user-mark-idea?id=' + idea.id, true)\r\n    } catch{ }\r\n\r\n    // Lấy lại điểm đã chấm trước đó\r\n    let arrayTestDemo = [];\r\n    for (let ques of questions) {\r\n      let oldMarkQues = userMarkIdea.find(x => x.question_id === ques.id);\r\n      let oldMark = oldMarkQues ? oldMarkQues.point : 0; // lấy lại điểm đã chấm trước đó\r\n      let obj = {\r\n        type: \"range-text\",\r\n        key: \"question_\" + ques.id,\r\n        name: ques.question,\r\n        value: oldMark,\r\n        min: ques.min_point,\r\n        max: ques.max_point\r\n      }\r\n      arrayTestDemo.push(obj);\r\n    }\r\n\r\n    // Chấm điểm ý tưởng - popup cửa sổ chấm điểm\r\n    let form: any = {\r\n      title: 'Chấm điểm ý tưởng'\r\n      , buttons: [\r\n        { color: 'danger', icon: 'close', next: 'CLOSE' }\r\n      ]\r\n      , items: [\r\n        { type: 'title', name: idea.title, key: 'id', value: idea.id }\r\n        , ...arrayTestDemo // sử dụng spread operation ở đây để load động các questions chấm điểm\r\n        , {\r\n          type: 'button'\r\n          , options: [\r\n            { name: \"Reset\", next: \"RESET\" }\r\n            , {\r\n              name: 'Gửi chấm điểm'\r\n              , next: 'CALLBACK'\r\n              , id: idea.id\r\n              , url: this.apiAuth.serviceUrls.RESOURCE_SERVER + '/mark-idea'\r\n              , token: true\r\n              , command: 'MARK'\r\n            }\r\n          ]\r\n        }\r\n      ]\r\n    }\r\n\r\n    this.apiCommons.openModal(DynamicFormMobilePage,\r\n      {\r\n        parent: this,\r\n        callback: this.callbackProcess,\r\n        form: form\r\n      }\r\n    );\r\n\r\n  }\r\n\r\n  // sửa lại ý tưởng này\r\n  async editIdea(idea) {\r\n    // popup cửa sổ này lên và cho phép chỉnh sửa ý tưởng này\r\n    let parameters;\r\n    try {\r\n      parameters = await this.apiAuth.getDynamicUrl(this.apiAuth.serviceUrls.RESOURCE_SERVER + '/get-idea-parameters', true)\r\n    } catch{ }\r\n\r\n    let categoryOptions = parameters && parameters.ideas_categories ? parameters.ideas_categories : [];\r\n\r\n    let statusOptions = parameters && parameters.ideas_statuses ? parameters.ideas_statuses : [];\r\n\r\n    // Chỉnh sửa ý tưởng - popup cửa sổ chỉnh sửa\r\n    let form: any = {\r\n      title: 'Sửa ý tưởng'\r\n      , buttons: [\r\n        { color: 'danger', icon: 'close', next: 'CLOSE' }\r\n      ]\r\n      ,\r\n      items: [\r\n        // Danh sách các trường nhập liệu\r\n        { type: \"hidden\", key: \"id\", value: idea.id }\r\n        , { type: \"text\", key: \"title\", value: idea.title, name: \"Chủ đề là gì? \", hint: \"Nhập chủ đề của ý tưởng này từ 5-200 ký tự\", input_type: \"text\", icon: \"md-help\", validators: [{ required: true, min: 1, max: 200 }] }\r\n        , { type: \"text_area\", key: \"description\", value: idea.description, name: \"Mô tả nội dung ý tưởng của bạn từ 50 đến 1000 từ\", hint: \"Nhập mô tả ý tưởng của bạn\", input_type: \"text\", icon: \"md-information-circle\", validators: [{ required: true, min: 1 }] }\r\n        , { type: \"select\", key: \"category_id\", value: \"\" + idea.category_id, name: \"Phân loại ý tưởng?\", icon: \"contrast\", options: categoryOptions, color: \"warning\" }\r\n        , { type: \"select\", key: \"status\", value: \"\" + idea.status, name: \"Trạng thái của ý tưởng?\", icon: \"clock\", options: statusOptions, color: \"secondary\" }\r\n        ,\r\n        {\r\n          type: 'button'\r\n          , options: [\r\n            { name: \"Reset\", next: \"RESET\" }\r\n            , {\r\n              name: 'Gửi sửa ý tưởng'\r\n              , id: idea.id              // trả lại id của ý tưởng này\r\n              , next: 'CALLBACK'\r\n              , url: this.apiAuth.serviceUrls.RESOURCE_SERVER + '/edit-idea', type: \"FORM-DATA\", token: true\r\n              , command: 'EDIT'\r\n            }\r\n          ]\r\n        }\r\n      ]\r\n    }\r\n\r\n    this.apiCommons.openModal(DynamicFormMobilePage,\r\n      {\r\n        parent: this,\r\n        callback: this.callbackProcess,\r\n        form: form\r\n      }\r\n    );\r\n  }\r\n\r\n  // Chuyển trạng thái của ý tưởng\r\n  async changeStatusIdea(idea) {\r\n    let parameters;\r\n    try {\r\n      parameters = await this.apiAuth.getDynamicUrl(this.apiAuth.serviceUrls.RESOURCE_SERVER + '/get-idea-parameters', true)\r\n    } catch{ }\r\n\r\n    let statusOptions = parameters && parameters.ideas_statuses ? parameters.ideas_statuses : [];\r\n\r\n    let form: any = {\r\n      title: 'Thay đổi trạng thái'\r\n      , buttons: [\r\n        { color: 'danger', icon: 'close', next: 'CLOSE' }\r\n      ]\r\n      ,\r\n      items: [\r\n        // Danh sách các trường nhập liệu\r\n        { type: \"hidden\", key: \"id\", value: idea.id }\r\n        , { type: \"select\", key: \"status\", value: \"\" + idea.status, name: \"Trạng thái của ý tưởng?\", icon: \"clock\", options: statusOptions, color: \"warning\" }\r\n        ,\r\n        {\r\n          type: 'button'\r\n          , options: [\r\n            {\r\n              name: 'Chuyển trạng thái ý tưởng này'\r\n              , id: idea.id              // trả lại id của ý tưởng này\r\n              , next: 'CALLBACK'\r\n              , url: this.apiAuth.serviceUrls.RESOURCE_SERVER + '/edit-idea', type: \"FORM-DATA\", token: true\r\n              , command: 'EDIT'\r\n            }\r\n          ]\r\n        }\r\n      ]\r\n    }\r\n\r\n    this.apiCommons.openModal(DynamicFormMobilePage,\r\n      {\r\n        parent: this,\r\n        callback: this.callbackProcess,\r\n        form: form\r\n      }\r\n    );\r\n  }\r\n\r\n  // loại bỏ ý tưởng này\r\n  trashIdea(idea) {\r\n    let form: any = {\r\n      title: 'Dừng ý tưởng'\r\n      , buttons: [\r\n        { color: 'danger', icon: 'close', next: 'CLOSE' }\r\n      ]\r\n      ,\r\n      items: [\r\n        // Danh sách các trường nhập liệu\r\n        { type: \"hidden\", key: \"id\", value: idea.id }\r\n        , { type: \"select\", key: \"status\", value: \"0\", name: \"Trạng thái của ý tưởng?\", icon: \"clock\", options: [{ value: \"0\", name: \"Triển khai sau\" }], color: \"secondary\" }\r\n        ,\r\n        {\r\n          type: 'button'\r\n          , options: [\r\n            {\r\n              name: 'Dừng ý tưởng này'\r\n              , id: idea.id\r\n              , next: 'CALLBACK'\r\n              , url: this.apiAuth.serviceUrls.RESOURCE_SERVER + '/edit-idea', type: \"FORM-DATA\", token: true\r\n              , command: 'EDIT'\r\n            }\r\n          ]\r\n        }\r\n      ]\r\n    }\r\n\r\n    this.apiCommons.openModal(DynamicFormMobilePage,\r\n      {\r\n        parent: this,\r\n        callback: this.callbackProcess,\r\n        form: form\r\n      }\r\n    );\r\n  }\r\n\r\n  // hàm gọi lại xử lý form popup\r\n  callbackProcess = function (res) {\r\n    return new Promise<any>((resolve, reject) => {\r\n\r\n      // console.log(res);\r\n\r\n      if (res.error) {\r\n        this.apiCommons.presentAlert('Error:<br>' + (res.message ? res.message : \"Error Unknow: \" + JSON.stringify(res.error, null, 2)));\r\n      } else if (res.response_data) {\r\n        if (res.button.command === \"MARK\") {\r\n          this.refresh(res.button.id);\r\n        }\r\n        if (res.button.command === \"EDIT\") {\r\n          this.refresh(res.button.id)\r\n        }\r\n\r\n      }\r\n\r\n      resolve({ next: \"CLOSE\" });\r\n\r\n    });\r\n  }.bind(this);\r\n\r\n}\r\n","/**\r\n * Nội dung bảng pipe này sẽ chuyển đổi các mã #id sẽ liên kết với ý tưởng có số id đó\r\n */\r\nimport { Pipe, PipeTransform } from '@angular/core';\r\n\r\n@Pipe({\r\n    name: 'linkUrl'\r\n})\r\nexport class LinkUrlPipe implements PipeTransform {\r\n    transform(content: string): string {\r\n        return !content ? '' : content.replace(/(\\b(https?|ftp):\\/\\/[-A-Z0-9+&@#\\/%?=~_|!:,.;]*[-A-Z0-9+&@#\\/%=~_|])/gim, (url) => `<a href=\"${url}\" target=\"_blank\">${(url.length > 30 ? \"Link#\" : url)}</a>`)\r\n    }\r\n}"],"sourceRoot":"webpack:///","file":"idea-entry-idea-detail-idea-detail-module-es5.js"}