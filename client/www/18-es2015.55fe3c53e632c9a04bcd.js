(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{"7AFQ":function(l,n,e){"use strict";e.r(n);var t=e("8Y7J");class u{}var i=e("pMnS"),a=e("oBZk"),o=e("ZZ/e"),r=e("OL44"),b=e("ddi3"),c=e("cUpR"),s=e("SVse"),p=e("mrSG"),h=e("c/rV");class d{constructor(l,n,e,t){this.route=l,this.apiCommons=n,this.apiAuth=e,this.mainService=t,this.callbackProcess=(function(l){return new Promise((n,e)=>{if(l.error)this.apiCommons.presentAlert("Error:<br>"+(l.message?l.message:"Error Unknow: "+JSON.stringify(l.error,null,2)));else{if(l.ajax){let e=l.ajax.options.find(n=>""+n.value==""+l.ajax.value);return void n([{key:"value_prize",property_name:"value",new_data:e&&e.ajax_default?e.ajax_default.value_prize:""},{key:"description",property_name:"value",new_data:e&&e.ajax_default?e.ajax_default.description:""}])}l.response_data&&"ADD-PRIZE"===l.button.command&&this.refresh()}n({next:"CLOSE"})})}).bind(this)}ngOnInit(){this.route.queryParams.subscribe(l=>{this.reviewId=l.id,this.refresh()}),this.init()}createHeader(){this.returnHeader=[{key:"title",value:"Ch\u1ee7 \u0111\u1ec1"},{key:"description",value:"M\xf4 t\u1ea3"},{key:"category_name",value:"Ch\u1ee7 \u0111\u1ec1"},{key:"status_name",value:"L\u0129nh v\u1ef1c"},{key:"created_time",value:"Ng\xe0y t\u1ea1o"},{key:"value_prize",value:"Gi\u1ea3i th\u01b0\u1edfng"}]}init(){this.userInfo=this.mainService.getUserInfo(),this.isMobile=this.apiCommons.isMobile()}refresh(){this.apiAuth.getDynamicUrl(this.apiAuth.serviceUrls.RESOURCE_SERVER+"/get-review-detail?id="+this.reviewId,!0).then(l=>{this.reviewDetail=l,this.createHeader()}).catch(l=>console.log("L\u1ed7i l\u1ea5y chi ti\u1ebft",l))}onClickSearch(){}onClickEvaluate(l){return p.b(this,void 0,void 0,(function*(){try{this.parameters=yield this.apiAuth.getDynamicUrl(this.apiAuth.serviceUrls.RESOURCE_SERVER+"/get-idea-parameters",!0)}catch(n){}this.apiCommons.openModal(b.h,{parent:this,callback:this.callbackProcess,form:{title:"\u0110\xe1nh gi\xe1 \xfd t\u01b0\u1edfng",buttons:[{color:"danger",icon:"close",next:"CLOSE"}],items:[{type:"details",details:[{name:"Ch\u1ee7 \u0111\u1ec1 #"+l.id,value:l.title},{name:"T\xe1c gi\u1ea3:",value:l.fullname},{name:"L\u0129nh v\u1ef1c:",value:l.category_name},{name:"Tr\u1ea1ng Th\xe1i:",value:l.status_name}]},{type:"hidden",key:"idea_id",value:l.id},{type:"hidden",key:"review_id",value:this.reviewId},{type:"select",key:"idea_status",value:""+l.status,name:"Chuy\u1ec3n tr\u1ea1ng th\xe1i",icon:"clock",options:this.parameters&&this.parameters.ideas_statuses?this.parameters.ideas_statuses:[],color:"secondary"},{type:"text",key:"value_prize",value:l.value_prize,name:"Nh\u1eadp gi\u1ea3i th\u01b0\u1edfng?",hint:"Nh\u1eadp gi\xe1 tr\u1ecb c\u1ee7a gi\u1ea3i th\u01b0\u1edfng (vd: 200k)",input_type:"text",icon:"md-help",validators:[{required:!0}]},{type:"text_area",key:"description",value:l.old_review_result,name:"Nh\u1eadp nh\u1eadn x\xe9t c\u1ee7a h\u1ed9i \u0111\u1ed3ng cho \xfd t\u01b0\u1edfng n\xe0y",input_type:"text",icon:"md-information-circle",validators:[{required:!0,min:5}]},{type:"button",options:[{name:"T\u1ea1o \u0111\xe1nh gi\xe1 \xfd t\u01b0\u1edfng",next:"CALLBACK",url:this.apiAuth.serviceUrls.RESOURCE_SERVER+"/add-idea-prize",token:!0,command:"ADD-PRIZE"}]}]}})}))}}var m=e("iInd"),v=t.zb({encapsulation:0,styles:[[".table-row[_ngcontent-%COMP%]   .table-header[_ngcontent-%COMP%]{background:#99b7f0e0!important;color:#0a0909fb!important;font-weight:700;text-align:center}.table-row[_ngcontent-%COMP%]   ion-col[_ngcontent-%COMP%]{border:.1em solid #fff;font-size:1em}.table-row[_ngcontent-%COMP%]   ion-row[_ngcontent-%COMP%]:nth-of-type(odd){background:#fafafaf6;color:#202020;opacity:.9}.table-row[_ngcontent-%COMP%]   ion-row[_ngcontent-%COMP%]:nth-of-type(even){background:#e6f5f8;color:#202020;opacity:.7}.desc-text-wrap[_ngcontent-%COMP%]{display:block;display:-webkit-box;text-align:justify;max-width:400px;height:15.6em;font-size:13;line-height:1.2em;-webkit-line-clamp:1;-webkit-box-orient:vertical;overflow:hidden;text-overflow:ellipsis}"]],data:{}});function f(l){return t.Xb(0,[(l()(),t.Bb(0,0,null,null,5,"ion-buttons",[["slot","end"]],null,null,null,a.ab,a.f)),t.Ab(1,49152,null,0,o.l,[t.j,t.p,t.F],null,null),(l()(),t.Bb(2,0,null,0,3,"ion-button",[["shape","round"]],null,[[null,"click"]],(function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.onClickSearch()&&t),t}),a.Z,a.e)),t.Ab(3,49152,null,0,o.k,[t.j,t.p,t.F],{shape:[0,"shape"]},null),(l()(),t.Bb(4,0,null,0,1,"ion-icon",[["name","search"],["slot","icon-only"]],null,null,null,a.qb,a.v)),t.Ab(5,49152,null,0,o.C,[t.j,t.p,t.F],{name:[0,"name"]},null)],(function(l,n){l(n,3,0,"round"),l(n,5,0,"search")}),null)}function g(l){return t.Xb(0,[(l()(),t.Bb(0,0,null,null,29,"ion-item",[],null,null,null,a.tb,a.y)),t.Ab(1,49152,null,0,o.H,[t.j,t.p,t.F],null,null),(l()(),t.Bb(2,0,null,0,2,"ion-avatar",[["slot","start"]],null,null,null,a.W,a.b)),t.Ab(3,49152,null,0,o.f,[t.j,t.p,t.F],null,null),(l()(),t.Bb(4,0,null,0,0,"img",[],[[8,"src",4]],null,null,null,null)),(l()(),t.Bb(5,0,null,0,14,"ion-label",[["class","ion-text-wrap"],["style","text-align: justify;"]],null,null,null,a.ub,a.z)),t.Ab(6,49152,null,0,o.N,[t.j,t.p,t.F],null,null),(l()(),t.Bb(7,0,null,0,3,"h2",[],null,null,null,null,null)),(l()(),t.Bb(8,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),t.Vb(9,null,["#",""])),(l()(),t.Vb(10,null,[". ",""])),(l()(),t.Bb(11,0,null,0,2,"p",[],[[8,"innerHTML",1]],null,null,null,null)),t.Rb(12,1),t.Rb(13,1),(l()(),t.Bb(14,0,null,0,5,"ion-note",[],null,null,null,a.Ab,a.F)),t.Ab(15,49152,null,0,o.Y,[t.j,t.p,t.F],null,null),(l()(),t.Bb(16,0,null,0,1,"strong",[],null,null,null,null,null)),(l()(),t.Vb(17,null,["",""])),(l()(),t.Vb(18,0,[" ",""])),t.Pb(131072,r.a,[t.j,t.F]),(l()(),t.Bb(20,0,null,0,9,"table",[["slot","end"]],null,null,null,null,null)),(l()(),t.Bb(21,0,null,null,8,"tbody",[],null,null,null,null,null)),(l()(),t.Bb(22,0,null,null,3,"tr",[],null,null,null,null,null)),(l()(),t.Bb(23,0,null,null,2,"ion-button",[["color","secondary"],["shape","round"]],null,[[null,"click"]],(function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.onClickEvaluate(l.context.$implicit)&&t),t}),a.Z,a.e)),t.Ab(24,49152,null,0,o.k,[t.j,t.p,t.F],{color:[0,"color"],shape:[1,"shape"]},null),(l()(),t.Vb(-1,0,[" \u0110\xe1nh gi\xe1 "])),(l()(),t.Bb(26,0,null,null,3,"tr",[["style","text-align: center;"]],null,null,null,null,null)),(l()(),t.Bb(27,0,null,null,2,"ion-note",[["color","danger"]],null,null,null,a.Ab,a.F)),t.Ab(28,49152,null,0,o.Y,[t.j,t.p,t.F],{color:[0,"color"]},null),(l()(),t.Vb(29,0,["",""]))],(function(l,n){l(n,24,0,"secondary","round"),l(n,28,0,"danger")}),(function(l,n){l(n,4,0,t.Fb(1,"",n.context.$implicit.avatar?n.context.$implicit.avatar:"assets/imgs/avatar.jpg","")),l(n,9,0,n.context.$implicit.id),l(n,10,0,n.context.$implicit.title);var e=t.Wb(n,11,0,l(n,13,0,t.Nb(n.parent,0),t.Wb(n,11,0,l(n,12,0,t.Nb(n.parent,1),n.context.$implicit.description))));l(n,11,0,e),l(n,17,0,n.context.$implicit.status_name),l(n,18,0,t.Wb(n,18,0,t.Nb(n,19).transform(n.context.$implicit.changed_time?n.context.$implicit.changed_time:n.context.$implicit.created_time))),l(n,29,0,n.context.$implicit.value_prize)}))}function y(l){return t.Xb(0,[t.Pb(0,b.q,[c.b]),t.Pb(0,b.m,[]),(l()(),t.Bb(2,0,null,null,13,"ion-header",[],null,null,null,a.pb,a.u)),t.Ab(3,49152,null,0,o.B,[t.j,t.p,t.F],null,null),(l()(),t.Bb(4,0,null,0,11,"ion-toolbar",[["color","primary"]],null,null,null,a.Pb,a.U)),t.Ab(5,49152,null,0,o.Cb,[t.j,t.p,t.F],{color:[0,"color"]},null),(l()(),t.Bb(6,0,null,0,4,"ion-buttons",[["slot","start"]],null,null,null,a.ab,a.f)),t.Ab(7,49152,null,0,o.l,[t.j,t.p,t.F],null,null),(l()(),t.Bb(8,0,null,0,2,"ion-back-button",[],null,[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==t.Nb(l,10).onClick(e)&&u),u}),a.X,a.c)),t.Ab(9,49152,null,0,o.g,[t.j,t.p,t.F],null,null),t.Ab(10,16384,null,0,o.h,[[2,o.ib],o.Jb],null,null),(l()(),t.Bb(11,0,null,0,2,"ion-title",[],null,null,null,a.Nb,a.S)),t.Ab(12,49152,null,0,o.Ab,[t.j,t.p,t.F],null,null),(l()(),t.Vb(-1,0,["Danh s\xe1ch \u0111\xe1nh gi\xe1"])),(l()(),t.qb(16777216,null,0,1,null,f)),t.Ab(15,16384,null,0,s.l,[t.W,t.S],{ngIf:[0,"ngIf"]},null),(l()(),t.Bb(16,0,null,null,5,"ion-content",[],null,null,null,a.jb,a.o)),t.Ab(17,49152,null,0,o.u,[t.j,t.p,t.F],null,null),(l()(),t.Bb(18,0,null,0,3,"ion-list",[],null,null,null,a.wb,a.A)),t.Ab(19,49152,null,0,o.O,[t.j,t.p,t.F],null,null),(l()(),t.qb(16777216,null,0,1,null,g)),t.Ab(21,278528,null,0,s.k,[t.W,t.S,t.x],{ngForOf:[0,"ngForOf"]},null)],(function(l,n){var e=n.component;l(n,5,0,"primary"),l(n,15,0,e.userInfo),l(n,21,0,e.reviewDetail)}),null)}function k(l){return t.Xb(0,[(l()(),t.Bb(0,0,null,null,1,"app-ideas-review-detail",[],null,null,null,y,v)),t.Ab(1,114688,null,0,d,[m.a,b.g,b.b,h.a],null,null)],(function(l,n){l(n,1,0)}),null)}var L=t.xb("app-ideas-review-detail",d,k,{},{},[]),_=e("Uqf7"),w=e("s7LF"),x=e("FOYl"),A=e("IheW"),j=e("6GXZ");class C{}var B=e("6bhV"),F=e("d2mR"),E=e("YD+O"),O=e("EpeG"),P=e("7ePi"),R=e("jVYb");e.d(n,"IdeasReviewDetailPageModuleNgFactory",(function(){return S}));var S=t.yb(u,[],(function(l){return t.Kb([t.Lb(512,t.m,t.jb,[[8,[i.a,L,_.b,_.c,_.d,_.h,_.i,_.a,_.e,_.f,_.g]],[3,t.m],t.D]),t.Lb(4608,s.n,s.m,[t.z,[2,s.w]]),t.Lb(4608,w.k,w.k,[]),t.Lb(4608,o.b,o.b,[t.F,t.g]),t.Lb(4608,o.Ib,o.Ib,[o.b,t.m,t.w]),t.Lb(4608,o.Mb,o.Mb,[o.b,t.m,t.w]),t.Lb(5120,x.b,x.f,[]),t.Lb(5120,x.a,x.e,[]),t.Lb(4608,A.i,A.o,[s.c,t.I,A.m]),t.Lb(4608,A.p,A.p,[A.i,A.n]),t.Lb(5120,A.a,(function(l){return[l,new b.s]}),[A.p]),t.Lb(4608,A.l,A.l,[]),t.Lb(6144,A.j,null,[A.l]),t.Lb(4608,A.h,A.h,[A.j]),t.Lb(6144,A.b,null,[A.h]),t.Lb(4608,A.f,A.k,[A.b,t.w]),t.Lb(4608,A.c,A.c,[A.f]),t.Lb(4608,j.a,j.a,[]),t.Lb(1073742336,s.b,s.b,[]),t.Lb(1073742336,w.j,w.j,[]),t.Lb(1073742336,w.b,w.b,[]),t.Lb(1073742336,o.Eb,o.Eb,[]),t.Lb(1073742336,m.p,m.p,[[2,m.u],[2,m.m]]),t.Lb(1073742336,C,C,[]),t.Lb(1073742336,B.b,B.b,[]),t.Lb(1073742336,F.a,F.a,[]),t.Lb(1073742336,E.b,E.b,[]),t.Lb(1073742336,O.b,O.b,[]),t.Lb(1073742336,P.b,P.b,[]),t.Lb(1073742336,R.b,R.b,[]),t.Lb(1073742336,x.c,x.c,[]),t.Lb(1073742336,A.e,A.e,[]),t.Lb(1073742336,A.d,A.d,[]),t.Lb(1073742336,b.o,b.o,[]),t.Lb(1073742336,u,u,[]),t.Lb(1024,m.k,(function(){return[[{path:"",component:d}]]}),[]),t.Lb(256,A.m,"XSRF-TOKEN",[]),t.Lb(256,A.n,"X-XSRF-TOKEN",[])])}))}}]);