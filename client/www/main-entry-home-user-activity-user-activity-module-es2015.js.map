{"version":3,"sources":["./src/app/main-entry/home/user-activity/user-activity.page.html","./src/app/main-entry/home/user-activity/user-activity-routing.module.ts","./src/app/main-entry/home/user-activity/user-activity.module.ts","./src/app/main-entry/home/user-activity/user-activity.page.scss","./src/app/main-entry/home/user-activity/user-activity.page.ts","./src/app/services/pagination.service.ts"],"names":[],"mappings":"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","file":"main-entry-home-user-activity-user-activity-module-es2015.js","sourcesContent":["export default \"<ion-header>\\n  <ion-toolbar>\\n    <ion-title>Hoạt động của thành viên</ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n  <!-- Hieu Add Table Bootstrap -->\\n  <!-- TABLE BEGIN ------------------------------------------------------------------------------->\\n  <ion-row>\\n    <ion-col size-lg=\\\"12\\\">\\n      <div class=\\\"main-card mb-3 card\\\">\\n        <div class=\\\"card-header\\\">\\n          <div class=\\\"row\\\">\\n            <div class=\\\"col-md-6\\\">\\n              <div\\n                class=\\\"card-header-title font-size-md text-capitalize font-weight-normal\\\"\\n              >\\n                Hoạt động\\n              </div>\\n            </div>\\n            <div class=\\\"col-md-6\\\">\\n              <div class=\\\"form-group row\\\">\\n                <div class=\\\"text-center col-md-3 offset-2\\\">\\n                  <label>Tìm kiếm</label>\\n                </div>\\n                <div class=\\\"col-md-6\\\">\\n                  <input type=\\\"text\\\" (input) = \\\"onFilterNameString($event)\\\" class=\\\"form-control\\\" >\\n                </div>\\n              </div>\\n            </div>\\n          </div>\\n        </div>\\n        <div class=\\\"table-responsive\\\">\\n          <table\\n            class=\\\"align-middle text-truncate mb-0 table table-borderless table-hover\\\"\\n          >\\n            <thead>\\n              <tr>\\n                <th class=\\\"d-none d-lg-table-cell text-center\\\">#</th>\\n                <th class=\\\"text-center\\\">Avatar</th>\\n                <th class=\\\"text-center\\\">Tên</th>\\n                <th class=\\\"d-none d-lg-table-cell text-center\\\">Ý tưởng</th>\\n                <th class=\\\"d-none d-lg-table-cell text-center\\\">Vote</th>\\n                <th class=\\\"d-none d-lg-table-cell text-center\\\">Comment</th>\\n                <!-- <th class=\\\"text-center\\\">SL YT Đã Cmt</th> -->\\n                <th class=\\\"text-center\\\">Điểm</th>\\n                <!-- <th class=\\\"text-center\\\">Hạng</th> -->\\n              </tr>\\n            </thead>\\n            <tbody>\\n              <tr *ngFor=\\\"let user of userActionFilterArr; let i = index\\\">\\n                <td\\n                  class=\\\"d-none d-lg-table-cell text-center text-muted\\\"\\n                  style=\\\"width: 50px;\\\"\\n                >\\n                  {{i+1}}\\n                </td>\\n                <td class=\\\"text-center\\\" style=\\\"width: 20px;\\\">\\n                  <img\\n                    width=\\\"25\\\"\\n                    class=\\\"rounded-circle\\\"\\n                    src=\\\"{{user?.avatar}}\\\"\\n                    alt=\\\"\\\"\\n                  />\\n                </td>\\n                <td class=\\\"text-center\\\">\\n                  <a [routerLink]=\\\"\\\">{{user.fullname}}</a>\\n                </td>\\n                <td class=\\\"d-none d-lg-table-cell text-center\\\">\\n                  <div class=\\\"badge badge-pill badge-success\\\">\\n                    {{user.count_ideas}}\\n                  </div>\\n                </td>\\n\\n                <td class=\\\"d-none d-lg-table-cell text-center\\\">\\n                  <div class=\\\"badge badge-pill badge-secondary\\\">\\n                    {{user.count_voted}}\\n                  </div>\\n                </td>\\n                <td class=\\\"d-none d-lg-table-cell text-center\\\">\\n                  <div class=\\\"badge badge-pill badge-danger\\\">\\n                    {{user.count_commented}}\\n                  </div>\\n                </td>\\n                <!-- <td class=\\\"text-center\\\">\\n                  <div class=\\\"badge badge-pill badge-warning\\\">{{user.count_commented_ideas}}</div>\\n                </td> -->\\n                <td class=\\\"text-center\\\">\\n                  <div class=\\\"badge badge-pill badge-warning\\\">\\n                    {{user.total_action}}\\n                  </div>\\n                </td>\\n                <!-- <td *ngIf=\\\"i === 0\\\" class=\\\"text-center\\\" style=\\\"width: 30px;\\\">\\n                  <img\\n                    width=\\\"25\\\"\\n                    class=\\\"rounded-circle\\\"\\n                    src=\\\"assets/imgs/1st.png\\\"\\n                    alt=\\\"\\\"\\n                  />\\n                </td>\\n                <td *ngIf=\\\"i === 1\\\" class=\\\"text-center\\\" style=\\\"width: 30px;\\\">\\n                  <img\\n                    width=\\\"25\\\"\\n                    class=\\\"rounded-circle\\\"\\n                    src=\\\"assets/imgs/2nd.png\\\"\\n                    alt=\\\"\\\"\\n                  />\\n                </td>\\n                <td *ngIf=\\\"i === 2\\\" class=\\\"text-center\\\" style=\\\"width: 30px;\\\">\\n                  <img\\n                    width=\\\"25\\\"\\n                    class=\\\"rounded-circle\\\"\\n                    src=\\\"assets/imgs/3rd.png\\\"\\n                    alt=\\\"\\\"\\n                  />\\n                </td> -->\\n              </tr>\\n            </tbody>\\n          </table>\\n        </div>\\n        <div class=\\\"d-block p-4 text-center card-footer\\\">\\n          <!-- pager -->\\n          <ul *ngIf=\\\"pagination.pages && pagination.pages.length\\\" class=\\\"pagination\\\">\\n            <li [ngClass]=\\\"{disabled:pagination.currentPage === 1}\\\">\\n                <a (click)=\\\"setPage(1)\\\">First</a>\\n            </li>\\n            <li [ngClass]=\\\"{disabled:pagination.currentPage === 1}\\\">\\n                <a (click)=\\\"setPage(pagination.currentPage - 1)\\\">Previous</a>\\n            </li>\\n            <li *ngFor=\\\"let page of pagination.pages\\\" [ngClass]=\\\"{active:pagination.currentPage === page}\\\">\\n                <a (click)=\\\"setPage(page)\\\">{{page}}</a>\\n            </li>\\n            <li [ngClass]=\\\"{disabled:pagination.currentPage === pagination.totalPages}\\\">\\n                <a (click)=\\\"setPage(pagination.currentPage + 1)\\\">Next</a>\\n            </li>\\n            <li [ngClass]=\\\"{disabled:pagination.currentPage === pagination.totalPages}\\\">\\n                <a (click)=\\\"setPage(pagination.totalPages)\\\">Last</a>\\n            </li>\\n        </ul>\\n        </div>\\n      </div>\\n    </ion-col>\\n  </ion-row>\\n  <!-- TABLE END ------------------------------------------------------------------------------->\\n</ion-content>\\n\"","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { UserActivityPage } from './user-activity.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: UserActivityPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class UserActivityPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { UserActivityPageRoutingModule } from './user-activity-routing.module';\n\nimport { UserActivityPage } from './user-activity.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    UserActivityPageRoutingModule\n  ],\n  declarations: [UserActivityPage]\n})\nexport class UserActivityPageModule {}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL21haW4tZW50cnkvaG9tZS91c2VyLWFjdGl2aXR5L3VzZXItYWN0aXZpdHkucGFnZS5zY3NzIn0= */\"","import { Component, OnInit } from '@angular/core';\nimport { AuthService } from 'ngxi4-dynamic-service';\nimport { PagerService } from 'src/app/services/pagination.service';\n\n@Component({\n  selector: 'app-user-activity',\n  templateUrl: './user-activity.page.html',\n  styleUrls: ['./user-activity.page.scss'],\n  providers: [PagerService]\n})\nexport class UserActivityPage implements OnInit {\n  userActions: any;\n  userActionFilterArr: any;\n  userNameSearch: string = '';\n  pagination: any = {};\n  pagedItems: any[];\n\n  constructor(\n    private apiAuth: AuthService,\n    private pageService: PagerService\n  ) { }\n\n  ngOnInit() {\n    this.init()\n  }\n  setPage(page: number) {\n    // get pager object from service\n    this.pagination = this.pageService.getPager(this.userActions.length, page);\n\n    // get current page of items\n    this.pagedItems = this.userActions.slice(this.pagination.startIndex, this.pagination.endIndex + 1);\n  }\n\n  onFilterNameString(event: Event) {\n    this.userNameSearch = (<HTMLInputElement>event.target).value;\n    if (this.userActions.length === 0 || this.userNameSearch === '') {\n      this.userActionFilterArr = this.userActions;\n      this.setPage(1);\n      // console.log(this.userActionFilterArr)\n    } else {\n      const resultArray = []\n      for (const item of this.userActions) {\n        if (item.fullname.toLowerCase().includes(this.userNameSearch.toLowerCase())) {\n          resultArray.push(item);\n        }\n      }\n      this.userActionFilterArr = resultArray;\n    }\n  }\n\n  init() {\n    this.apiAuth.getDynamicUrl(this.apiAuth.serviceUrls.RESOURCE_SERVER + \"/get-top-actions\")\n      .then(data => {\n        console.log('Data: ', data);\n        this.userActions = data;\n        this.userActionFilterArr = data;\n        this.setPage(1);\n      })\n      .catch(err => {\n        // console.log('Lỗi: ', err);\n      });\n  }\n\n}\n","export class PagerService {\n    getPager(totalItems: number, currentPage: number = 1, pageSize: number = 10) {\n        // calculate total pages\n        let totalPages = Math.ceil(totalItems / pageSize);\n\n        // ensure current page isn't out of range\n        if (currentPage < 1) { \n            currentPage = 1; \n        } else if (currentPage > totalPages) { \n            currentPage = totalPages; \n        }\n        \n        let startPage: number, endPage: number;\n        if (totalPages <= 10) {\n            // less than 10 total pages so show all\n            startPage = 1;\n            endPage = totalPages;\n        } else {\n            // more than 10 total pages so calculate start and end pages\n            if (currentPage <= 6) {\n                startPage = 1;\n                endPage = 10;\n            } else if (currentPage + 4 >= totalPages) {\n                startPage = totalPages - 9;\n                endPage = totalPages;\n            } else {\n                startPage = currentPage - 5;\n                endPage = currentPage + 4;\n            }\n        }\n\n        // calculate start and end item indexes\n        let startIndex = (currentPage - 1) * pageSize;\n        let endIndex = Math.min(startIndex + pageSize - 1, totalItems - 1);\n\n        // create an array of pages to ng-repeat in the pager control\n        let pages = Array.from(Array((endPage + 1) - startPage).keys()).map(i => startPage + i);\n\n        // return object with all pager properties required by the view\n        return {\n            totalItems: totalItems,\n            currentPage: currentPage,\n            pageSize: pageSize,\n            totalPages: totalPages,\n            startPage: startPage,\n            endPage: endPage,\n            startIndex: startIndex,\n            endIndex: endIndex,\n            pages: pages\n        };\n    }\n}"],"sourceRoot":"webpack:///"}