{"version":3,"sources":["src/app/main-entry/home/user-activity/user-activity.page.html","src/app/main-entry/home/user-activity/user-activity-routing.module.ts","src/app/main-entry/home/user-activity/user-activity.module.ts","src/app/main-entry/home/user-activity/user-activity.page.scss","src/app/main-entry/home/user-activity/user-activity.page.ts","src/app/services/pagination.service.ts"],"names":[],"mappings":"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","sourcesContent":["export default \"<ion-header>\\n  <ion-toolbar>\\n    <ion-title>Hoạt động của thành viên</ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n  <!-- Hieu Add Table Bootstrap -->\\n  <!-- TABLE BEGIN ------------------------------------------------------------------------------->\\n  <ion-row>\\n    <ion-col size-lg=\\\"12\\\">\\n      <div class=\\\"main-card mb-3 card\\\">\\n        <div class=\\\"card-header\\\">\\n          <div class=\\\"row\\\">\\n            <div class=\\\"col-md-6\\\">\\n              <div\\n                class=\\\"card-header-title font-size-md text-capitalize font-weight-normal\\\"\\n              >\\n                Hoạt động\\n              </div>\\n            </div>\\n            <div class=\\\"col-md-6\\\">\\n              <div class=\\\"form-group row\\\">\\n                <div class=\\\"text-center col-md-3 offset-2\\\">\\n                  <label>Tìm kiếm</label>\\n                </div>\\n                <div class=\\\"col-md-6\\\">\\n                  <input type=\\\"text\\\" (input) = \\\"onFilterNameString($event)\\\" class=\\\"form-control\\\" >\\n                </div>\\n              </div>\\n            </div>\\n          </div>\\n        </div>\\n        <div class=\\\"table-responsive\\\">\\n          <table\\n            class=\\\"align-middle text-truncate mb-0 table table-borderless table-hover\\\"\\n          >\\n            <thead>\\n              <tr>\\n                <th class=\\\"d-none d-lg-table-cell text-center\\\">#</th>\\n                <th class=\\\"text-center\\\">Avatar</th>\\n                <th class=\\\"text-center\\\">Tên</th>\\n                <th class=\\\"d-none d-lg-table-cell text-center\\\">Ý tưởng</th>\\n                <th class=\\\"d-none d-lg-table-cell text-center\\\">Vote</th>\\n                <th class=\\\"d-none d-lg-table-cell text-center\\\">Comment</th>\\n                <!-- <th class=\\\"text-center\\\">SL YT Đã Cmt</th> -->\\n                <th class=\\\"text-center\\\">Điểm</th>\\n                <!-- <th class=\\\"text-center\\\">Hạng</th> -->\\n              </tr>\\n            </thead>\\n            <tbody>\\n              <tr *ngFor=\\\"let user of userActionFilterArr; let i = index\\\">\\n                <td\\n                  class=\\\"d-none d-lg-table-cell text-center text-muted\\\"\\n                  style=\\\"width: 50px;\\\"\\n                >\\n                  {{i+1}}\\n                </td>\\n                <td class=\\\"text-center\\\" style=\\\"width: 20px;\\\">\\n                  <img\\n                    width=\\\"25\\\"\\n                    class=\\\"rounded-circle\\\"\\n                    src=\\\"{{user?.avatar}}\\\"\\n                    alt=\\\"\\\"\\n                  />\\n                </td>\\n                <td class=\\\"text-center\\\">\\n                  <a [routerLink]=\\\"\\\">{{user.fullname}}</a>\\n                </td>\\n                <td class=\\\"d-none d-lg-table-cell text-center\\\">\\n                  <div class=\\\"badge badge-pill badge-success\\\">\\n                    {{user.count_ideas}}\\n                  </div>\\n                </td>\\n\\n                <td class=\\\"d-none d-lg-table-cell text-center\\\">\\n                  <div class=\\\"badge badge-pill badge-secondary\\\">\\n                    {{user.count_voted}}\\n                  </div>\\n                </td>\\n                <td class=\\\"d-none d-lg-table-cell text-center\\\">\\n                  <div class=\\\"badge badge-pill badge-danger\\\">\\n                    {{user.count_commented}}\\n                  </div>\\n                </td>\\n                <!-- <td class=\\\"text-center\\\">\\n                  <div class=\\\"badge badge-pill badge-warning\\\">{{user.count_commented_ideas}}</div>\\n                </td> -->\\n                <td class=\\\"text-center\\\">\\n                  <div class=\\\"badge badge-pill badge-warning\\\">\\n                    {{user.total_action}}\\n                  </div>\\n                </td>\\n                <!-- <td *ngIf=\\\"i === 0\\\" class=\\\"text-center\\\" style=\\\"width: 30px;\\\">\\n                  <img\\n                    width=\\\"25\\\"\\n                    class=\\\"rounded-circle\\\"\\n                    src=\\\"assets/imgs/1st.png\\\"\\n                    alt=\\\"\\\"\\n                  />\\n                </td>\\n                <td *ngIf=\\\"i === 1\\\" class=\\\"text-center\\\" style=\\\"width: 30px;\\\">\\n                  <img\\n                    width=\\\"25\\\"\\n                    class=\\\"rounded-circle\\\"\\n                    src=\\\"assets/imgs/2nd.png\\\"\\n                    alt=\\\"\\\"\\n                  />\\n                </td>\\n                <td *ngIf=\\\"i === 2\\\" class=\\\"text-center\\\" style=\\\"width: 30px;\\\">\\n                  <img\\n                    width=\\\"25\\\"\\n                    class=\\\"rounded-circle\\\"\\n                    src=\\\"assets/imgs/3rd.png\\\"\\n                    alt=\\\"\\\"\\n                  />\\n                </td> -->\\n              </tr>\\n            </tbody>\\n          </table>\\n        </div>\\n        <div class=\\\"d-block p-4 text-center card-footer\\\">\\n          <!-- pager -->\\n          <ul *ngIf=\\\"pagination.pages && pagination.pages.length\\\" class=\\\"pagination\\\">\\n            <li [ngClass]=\\\"{disabled:pagination.currentPage === 1}\\\">\\n                <a (click)=\\\"setPage(1)\\\">First</a>\\n            </li>\\n            <li [ngClass]=\\\"{disabled:pagination.currentPage === 1}\\\">\\n                <a (click)=\\\"setPage(pagination.currentPage - 1)\\\">Previous</a>\\n            </li>\\n            <li *ngFor=\\\"let page of pagination.pages\\\" [ngClass]=\\\"{active:pagination.currentPage === page}\\\">\\n                <a (click)=\\\"setPage(page)\\\">{{page}}</a>\\n            </li>\\n            <li [ngClass]=\\\"{disabled:pagination.currentPage === pagination.totalPages}\\\">\\n                <a (click)=\\\"setPage(pagination.currentPage + 1)\\\">Next</a>\\n            </li>\\n            <li [ngClass]=\\\"{disabled:pagination.currentPage === pagination.totalPages}\\\">\\n                <a (click)=\\\"setPage(pagination.totalPages)\\\">Last</a>\\n            </li>\\n        </ul>\\n        </div>\\n      </div>\\n    </ion-col>\\n  </ion-row>\\n  <!-- TABLE END ------------------------------------------------------------------------------->\\n</ion-content>\\n\"","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { UserActivityPage } from './user-activity.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: UserActivityPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class UserActivityPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { UserActivityPageRoutingModule } from './user-activity-routing.module';\n\nimport { UserActivityPage } from './user-activity.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    UserActivityPageRoutingModule\n  ],\n  declarations: [UserActivityPage]\n})\nexport class UserActivityPageModule {}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL21haW4tZW50cnkvaG9tZS91c2VyLWFjdGl2aXR5L3VzZXItYWN0aXZpdHkucGFnZS5zY3NzIn0= */\"","import { Component, OnInit } from '@angular/core';\nimport { AuthService } from 'ngxi4-dynamic-service';\nimport { PagerService } from 'src/app/services/pagination.service';\n\n@Component({\n  selector: 'app-user-activity',\n  templateUrl: './user-activity.page.html',\n  styleUrls: ['./user-activity.page.scss'],\n  providers: [PagerService]\n})\nexport class UserActivityPage implements OnInit {\n  userActions: any;\n  userActionFilterArr: any;\n  userNameSearch: string = '';\n  pagination: any = {};\n  pagedItems: any[];\n\n  constructor(\n    private apiAuth: AuthService,\n    private pageService: PagerService\n  ) { }\n\n  ngOnInit() {\n    this.init()\n  }\n  setPage(page: number) {\n    // get pager object from service\n    this.pagination = this.pageService.getPager(this.userActions.length, page);\n\n    // get current page of items\n    this.pagedItems = this.userActions.slice(this.pagination.startIndex, this.pagination.endIndex + 1);\n  }\n\n  onFilterNameString(event: Event) {\n    this.userNameSearch = (<HTMLInputElement>event.target).value;\n    if (this.userActions.length === 0 || this.userNameSearch === '') {\n      this.userActionFilterArr = this.userActions;\n      this.setPage(1);\n      // console.log(this.userActionFilterArr)\n    } else {\n      const resultArray = []\n      for (const item of this.userActions) {\n        if (item.fullname.toLowerCase().includes(this.userNameSearch.toLowerCase())) {\n          resultArray.push(item);\n        }\n      }\n      this.userActionFilterArr = resultArray;\n    }\n  }\n\n  init() {\n    this.apiAuth.getDynamicUrl(this.apiAuth.serviceUrls.RESOURCE_SERVER + \"/get-top-actions\")\n      .then(data => {\n        console.log('Data: ', data);\n        this.userActions = data;\n        this.userActionFilterArr = data;\n        this.setPage(1);\n      })\n      .catch(err => {\n        // console.log('Lỗi: ', err);\n      });\n  }\n\n}\n","export class PagerService {\n    getPager(totalItems: number, currentPage: number = 1, pageSize: number = 10) {\n        // calculate total pages\n        let totalPages = Math.ceil(totalItems / pageSize);\n\n        // ensure current page isn't out of range\n        if (currentPage < 1) { \n            currentPage = 1; \n        } else if (currentPage > totalPages) { \n            currentPage = totalPages; \n        }\n        \n        let startPage: number, endPage: number;\n        if (totalPages <= 10) {\n            // less than 10 total pages so show all\n            startPage = 1;\n            endPage = totalPages;\n        } else {\n            // more than 10 total pages so calculate start and end pages\n            if (currentPage <= 6) {\n                startPage = 1;\n                endPage = 10;\n            } else if (currentPage + 4 >= totalPages) {\n                startPage = totalPages - 9;\n                endPage = totalPages;\n            } else {\n                startPage = currentPage - 5;\n                endPage = currentPage + 4;\n            }\n        }\n\n        // calculate start and end item indexes\n        let startIndex = (currentPage - 1) * pageSize;\n        let endIndex = Math.min(startIndex + pageSize - 1, totalItems - 1);\n\n        // create an array of pages to ng-repeat in the pager control\n        let pages = Array.from(Array((endPage + 1) - startPage).keys()).map(i => startPage + i);\n\n        // return object with all pager properties required by the view\n        return {\n            totalItems: totalItems,\n            currentPage: currentPage,\n            pageSize: pageSize,\n            totalPages: totalPages,\n            startPage: startPage,\n            endPage: endPage,\n            startIndex: startIndex,\n            endIndex: endIndex,\n            pages: pages\n        };\n    }\n}"],"sourceRoot":"webpack:///","file":"main-entry-home-user-activity-user-activity-module-es5.js"}